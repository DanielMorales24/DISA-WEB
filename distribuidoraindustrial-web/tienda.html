<!DOCTYPE html><!--  Last Published: Fri Jul 18 2025 14:41:27 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="680aa07ed92e4aea47e97f47" data-wf-site="680aa07dd92e4aea47e97ee1" lang="en">
<head>
  <meta charset="utf-8">
  <title>Distribuidora Industrial - Tienda</title>
  <meta content="Distribuidora Industrial - Tienda" property="og:title">
  <meta content="Distribuidora Industrial - Tienda" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/distribuidoraindustrial.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic", "Merriweather:300,300italic,400,400italic,700,700italic,900,900italic"]
        }
      });
    </script>
  <script type="text/javascript">
      ! function(o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
      }(window, document);
    </script>
  <link href="images/favicon.jpg" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.jpg" rel="apple-touch-icon">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HFGJZMD9YL"></script>
  <script type="text/javascript">
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('set', 'developer_id.dZGVlNj', true);
      gtag('config', 'G-HFGJZMD9YL');
    </script>
</head>
<body>
  <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="header-nav w-nav">
    <div class="nav-wrap">
      <div class="navigation-left">
        <a href="index.html" class="logo-link-3 w-nav-brand"><img width="77" src="images/DISA_Logo-removebg-preview.png" alt="" class="logo-image-2">
          <div class="text-block-27">Distribuidora Industrial S.A. de C.V.</div>
        </a>
      </div>
      <div class="nav-right">
        <nav role="navigation" class="nav-menu-6 w-nav-menu">
          <ul role="list" class="nav-menu-list-3 w-list-unstyled">
            <li class="nav-menu-list-item">
              <a href="index.html" class="nav-link-3 nav-link-on-accent-primary w-inline-block">
                <div class="text-block-28">Inicio</div>
              </a>
            </li>
            <li class="nav-menu-list-item">
              <div data-delay="0" data-hover="true" data-w-id="50b09fba-0964-4f9b-c4b0-ebc5c9cefad9" class="nav-menu-dropdown w-dropdown">
                <div class="nav-link-3 nav-link-on-accent-primary w-dropdown-toggle">
                  <div class="text-block-28">Recursos</div>
                  <div class="nav-caret-5 w-icon-dropdown-toggle"></div>
                </div>
                <nav class="nav-mega-menu-dropdown-list-3 w-dropdown-list">
                  <div class="mega-nav-dropdown-list-wrapper-4">
                    <ul role="list" class="grid-layout-2 desktop-3-column tablet-1-column grid-gap-sm w-list-unstyled">
                      <li id="w-node-_016f5a0a-5b63-edde-82c5-e2b2ad6d2e6d-ad6d2e56" class="w-node-_50b09fba-0964-4f9b-c4b0-ebc5c9cefae1-b27a4e25">
                        <div class="w-layout-grid grid-layout-2 desktop-3-column tablet-1-column grid-gap-sm nav">
                          <div class="div-block-15">
                            <div class="eyebrow">Acerca de</div>
                            <ul role="list" class="nav-mega-menu-list-2 w-list-unstyled">
                              <li class="utility-margin-bottom-4">
                                <a href="marcas.html" class="mega-nav-link-item w-inline-block">
                                  <div class="icon-medium"><img width="36" loading="lazy" alt="" src="images/Brands.png" class="image-2 menu-icon"></div>
                                  <div id="w-node-_50b09fba-0964-4f9b-c4b0-ebc5c9cefb1c-b27a4e25" class="div-block-20">
                                    <div><strong>Nuestras Marcas</strong></div>
                                    <div class="paragraph-sm-2 utility-text-secondary">La mejor calidad para proyectos.</div>
                                  </div>
                                </a>
                              </li>
                              <li class="utility-margin-bottom-4">
                                <a href="nosotros.html" class="mega-nav-link-item w-inline-block">
                                  <div class="icon-medium"><img width="36" sizes="100vw" alt="" src="images/History.png" loading="lazy" srcset="images/open-book-p-500.png 500w, images/History.png 512w" class="image-2 menu-icon"></div>
                                  <div id="w-node-_016f5a0a-5b63-edde-82c5-e2b2ad6d2e9d-ad6d2e56" class="div-block-16 w-node-_50b09fba-0964-4f9b-c4b0-ebc5c9cefb11-b27a4e25">
                                    <div class="text-block-30"><strong>Quienes Somos</strong></div>
                                    <div class="paragraph-sm-2 utility-text-secondary">Descubre sobre nosotros.</div>
                                  </div>
                                </a>
                              </li>
                            </ul>
                          </div>
                          <div class="div-block-15">
                            <div class="eyebrow">Recursos e Información</div>
                            <ul role="list" class="nav-mega-menu-list-2 w-list-unstyled">
                              <li class="utility-margin-bottom-4">
                                <a href="creditos-y-consultas.html" class="mega-nav-link-item w-inline-block">
                                  <div class="icon-medium"><img width="36" loading="lazy" alt="" src="images/Resources.png" class="image-2 menu-icon"></div>
                                  <div id="w-node-_016f5a0a-5b63-edde-82c5-e2b2ad6d2ec2-ad6d2e56" class="div-block-22 w-node-_50b09fba-0964-4f9b-c4b0-ebc5c9cefb36-b27a4e25">
                                    <div><strong>Créditos y Consultas</strong></div>
                                    <div class="paragraph-sm-2 utility-text-secondary">Accede a nuestra secion de Información.</div>
                                  </div>
                                </a>
                              </li>
                              <li class="utility-margin-bottom-4">
                                <a href="blog.html" class="mega-nav-link-item w-inline-block">
                                  <div class="icon-medium"><img width="36" sizes="100vw" alt="" src="images/Forms.png" loading="lazy" srcset="images/contact-form-p-500.png 500w, images/Forms.png 512w" class="image-2 menu-icon"></div>
                                  <div id="w-node-_016f5a0a-5b63-edde-82c5-e2b2ad6d2ecd-ad6d2e56" class="div-block-23 w-node-_50b09fba-0964-4f9b-c4b0-ebc5c9cefb41-b27a4e25">
                                    <div><strong>Blog</strong></div>
                                    <div class="paragraph-sm-2 utility-text-secondary">Información, eventos, y noticias.</div>
                                  </div>
                                </a>
                              </li>
                              <li class="utility-margin-bottom-4">
                                <a href="politicas-y-devoluciones.html" class="mega-nav-link-item w-inline-block">
                                  <div class="icon-medium"><img width="36" loading="lazy" alt="" src="images/Policies.png" class="image-2 menu-icon"></div>
                                  <div id="w-node-_016f5a0a-5b63-edde-82c5-e2b2ad6d2ed8-ad6d2e56" class="div-block-24 w-node-_50b09fba-0964-4f9b-c4b0-ebc5c9cefb4c-b27a4e25">
                                    <div><strong class="bold-text-4">Políticas y Devoluciones</strong></div>
                                    <div class="paragraph-sm-2 utility-text-secondary">Condiciones y normativas.</div>
                                  </div>
                                </a>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </li>
                      <li id="w-node-_016f5a0a-5b63-edde-82c5-e2b2ad6d2ede-ad6d2e56" class="flex-horizontal-2 w-node-_50b09fba-0964-4f9b-c4b0-ebc5c9cefb52-b27a4e25">
                        <a href="#" class="card-link inverse-card-link flex-child-expand w-inline-block">
                          <div class="mockup w-embed w-script">
                            <!DOCTYPE html>
                            <html lang="es">
                            <head>
                              <meta charset="UTF-8">
                              <meta name="viewport" content="width=device-width, initial-scale=1.0">
                              <title>Mockup iPhone Movimiento Sutil</title>
                              <style>
                                    .mobile-mockup-container {
                                      isolation: isolate;
                                      width: 100%;
                                      height: 100%;
                                      display: flex;
                                      justify-content: center;
                                      align-items: center;
                                      padding: 15px;
                                      box-sizing: border-box;
                                    }
                                    .mockup-inner {
                                      perspective: 2000px;
                                      width: 100%;
                                      max-width: 142px;
                                      position: relative;
                                    }
                                    .mockup-device {
                                      width: 100%;
                                      aspect-ratio: 9/19;
                                      border-radius: 30px;
                                      background: #3b3d40;
                                      padding: 7px;
                                      box-shadow:
                                        0 20px 50px rgba(0, 0, 0, 0.4),
                                        inset 0 0 15px rgba(0, 0, 0, 0.6);
                                      transition: transform 0.5s cubic-bezier(0.05, 0.85, 0.25, 1);
                                      transform-style: preserve-3d;
                                      border: 1px solid #1e1e1e;
                                      overflow: visible;
                                      position: relative;
                                    }
                                    /* Marco metálico ultra realista */
                                    .mockup-device::before {
                                      content: '';
                                      position: absolute;
                                      top: 0;
                                      left: 0;
                                      right: 0;
                                      bottom: 0;
                                      border-radius: 28px;
                                      border: 1px solid rgba(255, 255, 255, 0.15);
                                      pointer-events: none;
                                      background: linear-gradient(135deg,
                                          rgba(255, 255, 255, 0.03) 0%,
                                          rgba(255, 255, 255, 0) 50%,
                                          rgba(255, 255, 255, 0.03) 100%);
                                    }
                                    /* Efecto de profundidad sutil */
                                    .mockup-device::after {
                                      content: '';
                                      position: absolute;
                                      top: 0;
                                      left: 0;
                                      right: 0;
                                      bottom: 0;
                                      border-radius: 28px;
                                      background: linear-gradient(to right,
                                          rgba(80, 80, 80, 0.3) 0%,
                                          rgba(120, 120, 120, 0.3) 50%,
                                          rgba(80, 80, 80, 0.3) 100%);
                                      transform: translateZ(-5px);
                                      opacity: 0;
                                      transition: opacity 0.4s;
                                      z-index: -1;
                                    }
                                    .screen-container {
                                      width: 100%;
                                      height: 100%;
                                      border-radius: 23px;
                                      overflow: hidden;
                                      background: #000;
                                      position: relative;
                                      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
                                    }
                                    .screen-content {
                                      width: 100%;
                                      height: 100%;
                                      object-fit: cover;
                                      display: block;
                                    }
                                    .device-notch {
                                      position: absolute;
                                      top: 7px;
                                      left: 50%;
                                      transform: translateX(-50%);
                                      width: 35%;
                                      height: 4%;
                                      background: #0a0a0a;
                                      border-radius: 8px;
                                      z-index: 2;
                                      box-shadow:
                                        0 0 8px rgba(0, 0, 0, 0.7),
                                        inset 0 1px 1px rgba(255, 255, 255, 0.05);
                                    }
                                    .device-footer {
                                      position: absolute;
                                      bottom: 10px;
                                      left: 50%;
                                      transform: translateX(-50%);
                                      width: 30%;
                                      height: 4px;
                                      background: rgba(240, 240, 240, 0.15);
                                      border-radius: 2px;
                                      z-index: 2;
                                      box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
                                    }
                                    /* Botones mejorados */
                                    .hardware-button {
                                      position: absolute;
                                      z-index: 3;
                                      transition: transform 0.3s;
                                    }
                                    .power-button {
                                      width: 4px;
                                      height: 50px;
                                      right: -4px;
                                      top: 23%;
                                      background: linear-gradient(to right,
                                          #1a1a1a 0%,
                                          #2d2d2d 30%,
                                          #3a3a3a 50%,
                                          #2d2d2d 70%,
                                          #1a1a1a 100%);
                                      border-radius: 0 3px 3px 0;
                                      box-shadow:
                                        1px 0 4px rgba(0, 0, 0, 0.7),
                                        inset -1px 0 3px rgba(255, 255, 255, 0.05);
                                    }
                                    .volume-button {
                                      width: 4px;
                                      background: linear-gradient(to bottom,
                                          #1a1a1a 0%,
                                          #2d2d2d 30%,
                                          #3a3a3a 50%,
                                          #2d2d2d 70%,
                                          #1a1a1a 100%);
                                      border-radius: 3px 0 0 3px;
                                      box-shadow:
                                        -1px 0 4px rgba(0, 0, 0, 0.7),
                                        inset 1px 0 3px rgba(255, 255, 255, 0.05);
                                    }
                                    .volume-up {
                                      height: 25px;
                                      left: -4px;
                                      top: 20%;
                                    }
                                    .volume-down {
                                      height: 25px;
                                      left: -4px;
                                      top: 32%;
                                    }
                                    /* Efecto de brillo sutil */
                                    .shine {
                                      position: absolute;
                                      top: 0;
                                      left: 0;
                                      right: 0;
                                      bottom: 0;
                                      border-radius: 28px;
                                      pointer-events: none;
                                      background: linear-gradient(135deg,
                                          rgba(255, 255, 255, 0.06) 0%,
                                          rgba(255, 255, 255, 0) 50%,
                                          rgba(255, 255, 255, 0.06) 100%);
                                      mix-blend-mode: overlay;
                                      opacity: 0.6;
                                      transition: opacity 0.4s;
                                    }
                                    @media (max-width: 480px) {
                                      .mockup-inner {
                                        max-width: 130px;
                                      }
                                      .mockup-device {
                                        border-radius: 26px;
                                        padding: 6px;
                                      }
                                      .screen-container {
                                        border-radius: 20px;
                                      }
                                    }
                                  </style>
                            </head>
                            <div class="mobile-mockup-container">
                              <div class="mockup-inner">
                                <div class="mockup-device" id="mockup-device">
                                  <div class="screen-container">
                                    <div class="device-notch"></div>
                                    <img class="screen-content" src="images/Mockup.jpeg" alt="Mobile Screenshot Mockup">
                                    <aside class="device-footer"></aside>
                                  </div>
                                  <div class="hardware-button power-button"></div>
                                  <div class="hardware-button volume-button volume-up"></div>
                                  <div class="hardware-button volume-button volume-down"></div>
                                  <div class="shine"></div>
                                </div>
                              </div>
                            </div>
                            <script>
                                  const mockup = document.getElementById('mockup-device');
                                  const container = document.querySelector('.mockup-inner');
                                  const shine = document.querySelector('.shine');
                                  // Configuración de movimiento sutil
                                  const MAX_ROTATION = 15; // Grados máximos de rotación
                                  const MOVEMENT_SENSITIVITY = 60; // Mayor número = menos sensible
                                  function handleInteraction(x, y) {
                                    const rect = container.getBoundingClientRect();
                                    const centerX = rect.left + rect.width / 2;
                                    const centerY = rect.top + rect.height / 2;
                                    // Rotación limitada para no girar demasiado
                                    const rotateY = Math.min(Math.max(((x - centerX) / MOVEMENT_SENSITIVITY) * 2, -MAX_ROTATION), MAX_ROTATION);
                                    const rotateX = Math.min(Math.max(((y - centerY) / MOVEMENT_SENSITIVITY) * -1.5, -MAX_ROTATION / 2), MAX_ROTATION / 2);
                                    // Intensidad del efecto 3D (limitada)
                                    const intensity = Math.min(Math.abs(rotateY) / MAX_ROTATION, 0.6);
                                    // Aplicar transformaciones con límites
                                    mockup.style.transform = `rotateY(${rotateY}deg) rotateX(${rotateX}deg)`;
                                    mockup.style.boxShadow = `0 ${15 + Math.abs(rotateX)}px ${40 + Math.abs(rotateX)*5}px rgba(0, 0, 0, ${0.3 + intensity/2})`;
                                    // Efecto de profundidad sutil
                                    mockup.querySelector('::after').style.opacity = intensity * 0.6;
                                    // Ajustar brillo según rotación
                                    shine.style.opacity = 0.6 - (intensity * 0.4);
                                    // Movimiento sutil de botones
                                    const buttons = document.querySelectorAll('.hardware-button');
                                    buttons.forEach(btn => {
                                      btn.style.transform = `translateX(${rotateY/15}px) rotateY(${rotateY/5}deg)`;
                                    });
                                  }
                                  // Controladores de eventos mejorados
                                  document.addEventListener('mousemove', (e) => {
                                    handleInteraction(e.clientX, e.clientY);
                                  });
                                  const touchHandler = (e) => {
                                    if (e.targetTouches.length > 0) {
                                      handleInteraction(e.targetTouches[0].clientX, e.targetTouches[0].clientY);
                                    }
                                  };
                                  document.addEventListener('touchmove', touchHandler, {
                                    passive: true
                                  });
                                  // Reset suave al salir
                                  const resetMockup = () => {
                                    mockup.style.transform = 'rotateY(0) rotateX(0)';
                                    mockup.style.boxShadow = '0 15px 40px rgba(0, 0, 0, 0.3)';
                                    mockup.querySelector('::after').style.opacity = '0';
                                    shine.style.opacity = '0.6';
                                    document.querySelectorAll('.hardware-button').forEach(btn => {
                                      btn.style.transform = '';
                                    });
                                  };
                                  mockup.addEventListener('mouseleave', resetMockup);
                                  mockup.addEventListener('touchend', resetMockup);
                                </script>
                          </html></div>
                        </a>
                      </li>
                    </ul>
                  </div>
                </nav>
              </div>
            </li>
            <li class="nav-menu-list-item">
              <a href="contactanos.html" class="nav-link-3 nav-link-on-accent-primary w-inline-block">
                <div class="text-block-28">Contáctanos</div>
              </a>
            </li>
          </ul>
          <div class="button-group-3 utility-margin-top-0">
            <a href="tienda.html" aria-current="page" class="button-2 primary-button-on-accent-primary w-inline-block w--current">
              <div class="button-label tienda">Tienda</div>
            </a>
          </div>
        </nav>
      </div>
      <div class="nav-mobile-menu-button-5 w-nav-button">
        <div class="icon-7 icon-on-accent-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="svg-3">
            <g class="nc-icon-wrapper" stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" fill="none" stroke="currentColor" stroke-miterlimit="10">
              <line x1="1" y1="12" x2="23" y2="12" stroke="currentColor"></line>
              <line x1="1" y1="5" x2="23" y2="5"></line>
              <line x1="1" y1="19" x2="23" y2="19"></line>
            </g>
          </svg></div>
      </div>
    </div>
  </div>
  <div class="code-embed-7 w-embed">
    <style>
        :root {
          --primary: #01467f;
          --primary-light: rgba(1, 70, 127, 0.7);
          --primary-dark: #01315b;
          --secondary: #c4c826;
          --secondary-light: rgba(196, 200, 38, 0.7);
          --secondary-dark: #a8ac22;
          --dark: #2c3e50;
          --darker: #1a252f;
          --light: #f8f9fa;
          --lighter: #ffffff;
          --gray: #7f8c8d;
          --light-gray: #e9ecef;
          --border: #e1e1e1;
          --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
          --shadow-hover: 0 12px 30px rgba(0, 0, 0, 0.15);
          --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
          --radius: 16px;
          --radius-lg: 24px;
        }
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        /* Header */
        .contact-header {
          background: linear-gradient(135deg, var(--primary-dark), var(--primary));
          color: white;
          padding: 120px 20px 80px;
          text-align: center;
          position: relative;
          overflow: hidden;
          clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
          margin-bottom: 60px;
        }
        .contact-header-content {
          max-width: 800px;
          margin: 0 auto;
          position: relative;
          z-index: 2;
        }
        .contact-header h1 {
          font-size: 3.2rem;
          font-weight: 800;
          margin-bottom: 1.5rem;
          text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        .contact-header p {
          font-size: 1.2rem;
          opacity: 0.9;
          font-weight: 300;
        }
      </style>
    <!--  Encabezado  -->
    <header class="contact-header">
      <div class="contact-header-content">
        <h1>Nuestros Productos</h1>
        <p>¡Ahora puedes realizar tus cotizaciones en línea!</p>
        <p>Ponte en contacto con nuestro equipo para cualquier consulta o solicitud.</p>
      </div>
    </header>
  </div>
  <div class="section-11">
    <div class="div-block-13">
      <div class="catalog---sidebar sidebar css w-embed"><!--  Embed de Font Awesome  -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
      </div>
      <div class="catalog---sidebar sidebar css w-embed">
        <style id="catalog-styles">
            :root {
              --pc: #3498db;
              --sc: #c4c826;
              --dc: #2c3e50;
              --lc: #f8f9fa;
              --gc: #7f8c8d;
              --bc: #e1e1e1;
              --sh: 0 4px 6px rgba(0, 0, 0, 0.1);
              --tr: all 0.3s ease
            }
            /* Contenedor principal nuevo diseño */
            .catalog-container {
              display: grid;
              grid-template-columns: 280px 1fr;
              gap: 40px;
              padding: 20px;
              align-items: start;
            }
            /* Nuevo diseño para la barra de búsqueda */
            .search-header {
              grid-column: 1 / -1;
              display: flex;
              justify-content: flex-end;
              padding: 0 20px;
              margin-bottom: 15px;
            }
            .search-box {
              width: 100%;
              max-width: 600px;
              position: relative;
            }
            .search-box input {
              width: 100%;
              padding: 14px 20px 14px 45px;
              border: 2px solid var(--bc);
              border-radius: 30px;
              font-size: 14px;
              box-shadow: var(--sh);
              transition: var(--tr);
              background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%237f8c8d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");
              background-repeat: no-repeat;
              background-position: 15px center;
              background-size: 20px
            }
            .search-box input:focus {
              outline: none;
              border-color: var(--pc);
              box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2)
            }
            /* Nuevo diseño para los filtros verticales */
            .filters-sidebar {
              background: #fff;
              border-radius: 12px;
              padding: 20px;
              box-shadow: var(--sh);
              position: sticky;
              top: 20px;
              width: calc(100% + 20px);
              overflow-y: auto;
              overflow-x: hidden;
              scrollbar-width: none;
              -ms-overflow-style: none;
            }
            .filters-sidebar::-webkit-scrollbar {
              display: none;
            }
            .filter-g {
              margin-bottom: 20px;
            }
            .filter-g label {
              display: block;
              margin-bottom: 8px;
              font-weight: 600;
              color: var(--dc);
              font-size: 14px
            }
            .filter-g select {
              width: 100%;
              padding: 12px 15px;
              border: 2px solid var(--bc);
              border-radius: 8px;
              background: #fff;
              font-size: 14px;
              cursor: pointer;
              transition: var(--tr);
              appearance: none;
              background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%237f8c8d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolygon points='22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3'%3E%3C/polygon%3E%3C/svg%3E");
              background-repeat: no-repeat;
              background-position: right 12px center;
              background-size: 16px
            }
            .filter-g select:focus {
              border-color: var(--pc);
              box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
              outline: none
            }
            .result-c {
              font-size: 14px;
              color: var(--gc);
              text-align: center;
              padding: 10px 0;
              margin-top: 5px;
              border-top: 1px dashed var(--bc);
              grid-column: 1 / -1;
            }
            /* Mejoras en el contenedor de productos */
            .products-section {
              display: flex;
              flex-direction: column;
              gap: 30px;
            }
            .articulos-cont {
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
              gap: 20px;
            }
            /* Estilos de paginación */
            .pagination {
              display: flex;
              justify-content: center;
              align-items: center;
              gap: 10px;
              margin-top: 20px;
              padding: 15px 0;
              border-top: 1px solid var(--bc);
            }
            .pagination-btn {
              padding: 8px 16px;
              border: 1px solid var(--bc);
              border-radius: 6px;
              background: #fff;
              cursor: pointer;
              transition: var(--tr);
              font-size: 14px;
              color: var(--dc);
            }
            .pagination-btn:hover:not(:disabled) {
              background: var(--pc);
              color: white;
              border-color: var(--pc);
            }
            .pagination-btn:disabled {
              opacity: 0.5;
              cursor: not-allowed;
            }
            .pagination-btn.active {
              background: var(--pc);
              color: white;
              border-color: var(--pc);
            }
            .pagination-info {
              font-size: 14px;
              color: var(--gc);
              margin: 0 15px;
            }
            /* Estilos originales de las cards de productos */
            .a-card {
              border: 1px solid var(--bc);
              border-radius: 12px;
              padding: 20px;
              transition: var(--tr);
              background: #fff;
              cursor: pointer;
              position: relative;
              overflow: hidden;
              will-change: transform;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05)
            }
            .a-card:hover {
              transform: translateY(-5px);
              box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
              border-color: var(--pc)
            }
            .a-img {
              width: 100%;
              height: 200px;
              object-fit: contain;
              border-radius: 8px;
              margin-bottom: 15px;
              background: var(--lc);
              transition: transform 0.3s ease;
              display: flex;
              justify-content: center;
              align-items: center
            }
            .a-card:hover .a-img {
              transform: scale(1.05)
            }
            .a-cod {
              font-size: 13px;
              color: var(--gc);
              margin-bottom: 5px;
              font-weight: 500
            }
            .a-nom {
              font-size: 18px;
              font-weight: 700;
              margin-bottom: 10px;
              color: var(--dc);
              line-height: 1.3
            }
            .a-desc {
              font-size: 14px;
              color: #000;
              margin-bottom: 15px;
              line-height: 1.5;
              display: -webkit-box;
              -webkit-line-clamp: 3;
              -webkit-box-orient: vertical;
              overflow: hidden
            }
            .a-price {
              font-size: 20px;
              font-weight: 800;
              color: var(--sc);
              margin-bottom: 10px
            }
            .a-exist {
              font-size: 13px;
              color: var(--pc);
              font-weight: 600
            }
            .a-uni {
              font-size: 13px;
              color: var(--gc);
              margin-top: 5px
            }
            .espec {
              margin-top: 15px;
              padding-top: 15px;
              border-top: 1px dashed var(--bc);
              font-size: 13px;
              color: #666
            }
            .loading {
              text-align: center;
              padding: 60px 20px;
              font-style: italic;
              color: var(--gc);
              grid-column: 1/-1;
              font-size: 18px
            }
            .error {
              color: #e74c3c;
              padding: 60px 20px;
              text-align: center;
              grid-column: 1/-1;
              font-size: 18px
            }
            .no-res {
              grid-column: 1/-1;
              text-align: center;
              padding: 60px 20px;
              color: var(--gc);
              font-style: italic;
              font-size: 18px
            }
            .p-modal {
              display: none;
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: rgba(0, 0, 0, 0.7);
              z-index: 1000;
              overflow-y: auto;
              backdrop-filter: blur(5px)
            }
            .p-modal.show {
              display: flex;
              justify-content: center;
              align-items: flex-start;
              padding: 40px 20px;
              overflow: hidden
            }
            .modal-c {
              background: #fff;
              border-radius: 12px;
              width: 90%;
              max-width: 900px;
              max-height: 90vh;
              overflow-y: auto;
              position: relative;
              box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
              padding: 30px;
              will-change: transform, opacity;
              margin: auto;
              border: 1px solid rgba(0, 0, 0, 0.1)
            }
            .modal-b {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 30px;
              align-items: start
            }
            .p-imgs {
              position: relative;
              height: 100%;
              display: flex;
              flex-direction: column;
              gap: 15px;
              justify-content: center;
              align-items: center
            }
            .main-img {
              width: 100%;
              display: flex;
              justify-content: center;
              align-items: center;
              min-height: 250px;
              max-height: 350px;
              overflow: hidden;
              background: var(--lc);
              padding: 20px;
              box-sizing: border-box;
              position: relative;
            }
            .modal-img {
              max-width: 80%;
              max-height: 80%;
              width: auto;
              height: auto;
              object-fit: contain;
              border-radius: 8px;
              transition: transform 0.3s ease;
              margin: auto;
              display: block;
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
            }
            .modal-img.active {
              position: relative;
              top: auto;
              left: auto;
              transform: none;
            }
            .thumb-c {
              display: flex;
              gap: 10px;
              overflow-x: auto;
              padding: 10px 0;
              scrollbar-width: thin;
              scrollbar-color: var(--bc) var(--lc);
            }
            .thumb-c::-webkit-scrollbar {
              height: 6px;
            }
            .thumb-c::-webkit-scrollbar-track {
              background: var(--lc);
              border-radius: 3px;
            }
            .thumb-c::-webkit-scrollbar-thumb {
              background-color: var(--bc);
              border-radius: 3px;
            }
            .thumb {
              width: 60px;
              height: 60px;
              object-fit: cover;
              border-radius: 4px;
              cursor: pointer;
              border: 2px solid transparent;
              transition: all 0.2s ease;
              flex-shrink: 0;
            }
            .thumb:hover {
              border-color: var(--pc);
              transform: scale(1.05)
            }
            .thumb.active {
              border-color: var(--sc)
            }
            .modal-det {
              display: flex;
              flex-direction: column;
              height: 100%
            }
            .product-header {
              display: flex;
              flex-direction: column;
              align-items: flex-start;
              margin-bottom: 8px;
              gap: 4px;
            }
            .modal-h {
              margin-bottom: 10px;
              border-bottom: 1px solid var(--bc);
            }
            .modal-cod {
              font-size: 16px;
              color: var(--gc);
              margin-bottom: 5px;
              font-weight: 500
            }
            .modal-nom {
              font-size: 28px;
              font-weight: 800;
              margin-bottom: 15px;
              color: var(--dc);
              line-height: 1.2
            }
            .modal-desc {
              font-size: 16px;
              color: #000;
              line-height: 1.6;
              overflow-y: auto;
              max-height: 150px;
              padding-right: 5px;
            }
            .modal-desc::-webkit-scrollbar {
              width: 5px;
            }
            .modal-desc::-webkit-scrollbar-track {
              background: var(--lc);
            }
            .modal-desc::-webkit-scrollbar-thumb {
              background-color: var(--bc);
              border-radius: 3px;
            }
            .price-sect {
              background: rgba(196, 200, 38, 0.1);
              font-size: 14px;
              padding: 15px;
              border-radius: 8px;
              margin-bottom: 20px;
              border-left: 4px solid var(--sc)
            }
            .modal-price {
              font-size: 32px;
              font-weight: 800;
              color: var(--sc);
              margin-bottom: 5px
            }
            .price-lbl {
              font-size: 14px;
              color: var(--gc);
              text-transform: uppercase;
              letter-spacing: 0.5px
            }
            .stock-sect {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
              padding: 12px;
              background: rgba(52, 152, 219, 0.1);
              border-radius: 8px
            }
            .stock-info {
              display: flex;
              flex-direction: column
            }
            .stock-lbl {
              font-size: 14px;
              color: var(--gc)
            }
            .stock-val {
              font-weight: 700;
              color: var(--pc);
              font-size: 16px
            }
            .min-lbl {
              font-size: 14px;
              color: var(--gc);
              margin-top: 5px
            }
            .qty-lbl {
              display: block;
              massage-bottom: 10px;
              font-weight: 600;
              color: var(--dc)
            }
            .qty-ctrl {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 10px;
              margin: 0 auto;
              max-width: 200px
            }
            .qty-btn {
              width: 40px;
              height: 40px;
              border: 2px solid var(--bc);
              background: #fff;
              border-radius: 8px;
              font-size: 18px;
              font-weight: 700;
              cursor: pointer;
              display: flex;
              align-items: center;
              justify-content: center;
              transition: all 0.2s ease
            }
            .qty-btn:hover {
              background: var(--lc);
              border-color: var(--pc);
              color: var(--pc)
            }
            .qty-btn:active {
              transform: scale(0.95)
            }
            .qty-inp {
              width: 70px;
              height: 40px;
              padding: 0 10px;
              border: 2px solid var(--bc);
              border-radius: 8px;
              text-align: center;
              font-size: 16px;
              font-weight: 600;
              -moz-appearance: textfield
            }
            .qty-inp::-webkit-outer-spin-button,
            .qty-inp::-webkit-inner-spin-button {
              -webkit-appearance: none;
              margin: 0
            }
            .add-cart-sect {
              margin-top: 20px
            }
            .add-cart-btn {
              background: var(--sc);
              color: #fff;
              border: none;
              padding: 15px 25px;
              border-radius: 8px;
              font-size: 16px;
              font-weight: 600;
              cursor: pointer;
              transition: var(--tr);
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 10px;
              width: 100%;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1)
            }
            .add-cart-btn:hover {
              background: #a8cb17;
              transform: translateY(-2px);
              box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15)
            }
            .add-cart-btn:active {
              transform: translateY(0);
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1)
            }
            .add-cart-btn i {
              font-size: 18px
            }
            .success-msg {
              color: #27ae60;
              font-weight: 600;
              text-align: center;
              margin-top: 10px;
              opacity: 0;
              transition: opacity 0.3s ease;
              height: 0
            }
            .success-msg.show {
              opacity: 1;
              height: auto
            }
            .modal-espec {
              margin-top: 20px;
              padding-top: 20px;
              border-top: 1px solid var(--bc);
              max-height: 200px;
              overflow-y: auto;
              padding-right: 5px;
            }
            .modal-espec::-webkit-scrollbar {
              width: 5px;
            }
            .modal-espec::-webkit-scrollbar-track {
              background: var(--lc);
            }
            .modal-espec::-webkit-scrollbar-thumb {
              background-color: var(--bc);
              border-radius: 3px;
            }
            .modal-espec h4 {
              margin-bottom: 15px;
              color: var(--dc);
              font-size: 18px;
              display: flex;
              align-items: center;
              gap: 8px
            }
            .modal-espec h4 i {
              color: var(--pc)
            }
            .modal-zoom-in {
              animation: zoomIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards
            }
            .modal-zoom-out {
              animation: zoomOut 0.3s ease-in forwards
            }
            .close-modal {
              position: absolute;
              top: 15px;
              right: 20px;
              font-size: 28px;
              font-weight: 700;
              color: #aaa;
              cursor: pointer;
              transition: color 0.2;
              z-index: 2;
              background: rgba(255, 255, 255, 0.8);
              width: 40px;
              height: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              border-radius: 50%
            }
            .close-modal:hover {
              color: #333;
              background: rgba(255, 255, 255, 0.9)
            }
            @keyframes zoomIn {
              from {
                transform: scale(0.5);
                opacity: 0
              }
              to {
                transform: scale(1);
                opacity: 1
              }
            }
            @keyframes zoomOut {
              from {
                transform: scale(1);
                opacity: 1
              }
              to {
                transform: scale(0.5);
                opacity: 0
              }
            }
            @keyframes cardToModal {
              0% {
                transform: translate(var(--start-x), var(--start-y)) scale(1);
                width: var(--card-width);
                height: var(--card-height);
                border-radius: 10px
              }
              50% {
                transform: translate(calc(50vw - 50%), calc(50vh - 50%)) scale(1.1);
                opacity: 0.8
              }
              100% {
                transform: translate(0, 0) scale(1);
                width: 100%;
                height: auto;
                border-radius: 10px
              }
            }
            .placeholder-anim {
              position: fixed;
              z-index: 1001;
              background: #fff;
              box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
              overflow: hidden;
              animation: cardToModal 0.6s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
              pointer-events: none
            }
            .toast-notif {
              position: fixed;
              bottom: 20px;
              left: 50%;
              transform: translateX(-50%) translateY(100px);
              background: #333;
              color: #fff;
              padding: 12px 24px;
              border-radius: 8px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
              z-index: 1100;
              opacity: 0;
              transition: all 0.3s ease
            }
            .toast-notif.show {
              transform: translateX(-50%) translateY(0);
              opacity: 1
            }
            .toast-success {
              background: #27ae60
            }
            .toast-error {
              background: #e74c3c
            }
            .toast-warning {
              background: #f39c12
            }
            /* Nuevos estilos mejorados para los filtros */
            .filter-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
              padding-bottom: 15px;
              border-bottom: 2px solid var(--pc);
              position: relative;
            }
            .filter-header h3 {
              margin: 0;
              font-size: 20px;
              color: var(--dc);
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .clear-filters {
              background: rgba(52, 152, 219, 0.1);
              border: 1px solid var(--pc);
              color: var(--pc);
              font-size: 14px;
              font-weight: 600;
              cursor: pointer;
              padding: 8px 15px;
              border-radius: 30px;
              transition: var(--tr);
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .clear-filters:hover {
              background: var(--pc);
              color: white;
            }
            .clear-filters i {
              font-size: 16px;
            }
            .filter-group {
              margin-bottom: 20px;
              border-bottom: 1px solid rgba(44, 62, 80, 0.1);
              padding-bottom: 15px;
              transition: var(--tr);
            }
            .filter-group:hover {
              border-bottom-color: rgba(52, 152, 219, 0.3);
            }
            .filter-title {
              display: flex;
              justify-content: space-between;
              align-items: center;
              cursor: pointer;
              padding: 12px 0;
              margin-bottom: 5px;
              transition: var(--tr);
              border-radius: 8px;
              padding-left: 10px;
            }
            .filter-title:hover {
              background: rgba(52, 152, 219, 0.05);
            }
            .filter-title h4 {
              margin: 0;
              font-size: 16px;
              font-weight: 600;
              color: var(--dc);
              display: flex;
              align-items: center;
              gap: 10px;
            }
            .filter-title i {
              transition: all 0.3s ease;
              font-size: 14px;
              color: var(--pc);
              margin-right: 5px;
            }
            .filter-content {
              max-height: 0;
              overflow: hidden;
              transition: max-height 0.4s cubic-bezier(0.22, 1, 0.36, 1);
              padding-left: 10px;
            }
            .filter-content.show {
              max-height: 500px;
            }
            .filter-options {
              max-height: 300px;
              overflow-y: auto;
              overflow-x: hidden;
              margin-top: 5px;
              padding-right: 5px;
              scrollbar-width: thin;
              scrollbar-color: var(--pc) rgba(52, 152, 219, 0.1);
            }
            .filter-options::-webkit-scrollbar {
              width: 6px;
            }
            .filter-options::-webkit-scrollbar-track {
              background: rgba(44, 62, 80, 0.05);
              border-radius: 10px;
            }
            .filter-options::-webkit-scrollbar-thumb {
              background-color: var(--pc);
              border-radius: 10px;
              border: 1px solid rgba(255, 255, 255, 0.2);
            }
            .filter-option {
              margin: 12px 0;
              display: flex;
              align-items: center;
              position: relative;
            }
            .filter-checkbox {
              position: absolute;
              opacity: 0;
              width: 0;
              height: 0;
            }
            .filter-checkbox+label {
              position: relative;
              padding-left: 32px;
              cursor: pointer;
              font-size: 15px;
              color: var(--dc);
              transition: var(--tr);
              line-height: 1.4;
              user-select: none;
              display: flex;
              align-items: center;
              min-height: 22px;
            }
            .filter-checkbox+label:before {
              content: '';
              position: absolute;
              left: 0;
              top: 50%;
              transform: translateY(-50%);
              width: 20px;
              height: 20px;
              border: 2px solid var(--bc);
              border-radius: 6px;
              background: white;
              transition: var(--tr);
              display: flex;
              align-items: center;
              justify-content: center;
            }
            .filter-checkbox:checked+label:before {
              background: var(--pc);
              border-color: var(--pc);
            }
            .filter-checkbox+label:after {
              content: '\f00c';
              font-family: 'Font Awesome 5 Free';
              font-weight: 900;
              position: absolute;
              left: 2px;
              top: 50%;
              transform: translateY(-50%);
              width: 20px;
              text-align: center;
              font-size: 12px;
              color: white;
              opacity: 0;
              transition: var(--tr);
            }
            .filter-checkbox:checked+label:after {
              opacity: 1;
            }
            .filter-checkbox:focus+label:before {
              box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);
            }
            .filter-checkbox+label:hover {
              color: var(--pc);
            }
            .filter-checkbox+label:hover:before {
              border-color: var(--pc);
            }
            /* Diseño de una sola columna para logos de marcas */
            .brands-grid {
              display: flex;
              flex-direction: column;
              gap: 12px;
              padding: 10px 0;
              max-height: 300px;
              overflow-y: auto;
              overflow-x: hidden;
              scrollbar-width: thin;
              scrollbar-color: var(--pc) rgba(52, 152, 219, 0.1);
            }
            .brands-grid::-webkit-scrollbar {
              width: 6px;
            }
            .brands-grid::-webkit-scrollbar-track {
              background: rgba(52, 152, 219, 0.05);
              border-radius: 10px;
            }
            .brands-grid::-webkit-scrollbar-thumb {
              background-color: var(--pc);
              border-radius: 10px;
              border: 1px solid rgba(255, 255, 255, 0.2);
            }
            .brand-option {
              position: relative;
              display: flex;
              align-items: center;
              cursor: pointer;
              transition: var(--tr);
              padding: 8px;
              border-radius: 8px;
              min-height: 60px;
            }
            .brand-option:hover {
              background: rgba(52, 152, 219, 0.05);
              transform: translateX(5px);
            }
            .brand-option .brand-logo {
              width: 100px;
              height: 60px;
              object-fit: contain;
              background: white;
              border-radius: 6px;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
              border: 1px solid var(--bc);
              transition: var(--tr);
              padding: 5px;
              margin-right: 15px;
            }
            .brand-option:hover .brand-logo {
              border-color: var(--pc);
              box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            }
            .brand-option input[type="checkbox"]:checked+label .brand-logo {
              border: 2px solid var(--sc);
              box-shadow: 0 0 0 3px rgba(196, 200, 38, 0.3);
            }
            .brand-option input[type="checkbox"] {
              position: absolute;
              opacity: 0;
              width: 0;
              height: 0;
            }
            .brand-option .filter-checkbox+label {
              display: flex;
              align-items: center;
              width: 100%;
              padding-left: 0;
            }
            .brand-option .filter-checkbox+label:before {
              position: absolute;
              right: 0;
              left: auto;
              top: 50%;
              transform: translateY(-50%);
            }
            .brand-option .filter-checkbox+label:after {
              position: absolute;
              right: 2px;
              left: auto;
              top: 50%;
              transform: translateY(-50%);
              width: 20px;
              text-align: center;
            }
            /* Mejoras al rango de precios */
            .price-range-slider {
              padding: 15px 0;
            }
            .price-inputs {
              display: flex;
              justify-content: space-between;
              margin-bottom: 15px;
              gap: 15px;
            }
            .price-input {
              display: flex;
              flex-direction: column;
              flex: 1;
            }
            .price-input label {
              margin-bottom: 5px;
              font-size: 14px;
              color: var(--gc);
              font-weight: 500;
            }
            .price-input input {
              width: 100%;
              padding: 10px 12px;
              border: 2px solid var(--bc);
              border-radius: 8px;
              font-size: 16px;
              transition: var(--tr);
            }
            .price-input input:focus {
              border-color: var(--pc);
              outline: none;
              box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            }
            .price-range-values {
              display: flex;
              justify-content: space-between;
              font-size: 15px;
              color: var(--dc);
              font-weight: 600;
              margin-top: 10px;
              padding: 0 5px;
            }
            .price-range-values span:first-child {
              color: var(--pc);
            }
            .price-range-values span:last-child {
              color: var(--sc);
            }
            /* Mejoras a los logos en las tarjetas */
            .a-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 10px;
            }
            .product-brand-logo {
              width: 80px;
              height: 60px;
              object-fit: contain;
              margin-left: 8px;
              border-radius: 4px;
              background: white;
              padding: 4px;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
              transition: var(--tr);
            }
            /* Mejoras a los logos en el modal */
            .modal-brand-container {
              margin: 15px 0;
              padding: 15px 0;
              border-top: 1px solid var(--bc);
              border-bottom: 1px solid var(--bc);
            }
            .modal-brand {
              width: 2;
              display: flex;
              align-items: center;
              gap: 15px;
            }
            .modal-brand-logo {
              width: 80px;
              height: 50px;
              object-fit: contain;
              border-radius: 6px;
              background: white;
              padding: 5px;
              box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
            }
            .modal-brand span {
              font-size: 18px;
              color: var(--dc);
              font-weight: 700;
            }
            /* Mejoras al modal para evitar scroll */
            .modal-c {
              max-height: 85vh;
              overflow-y: auto;
              padding: 25px;
            }
            .modal-b {
              grid-template-columns: 1fr;
              gap: 25px;
            }
            .p-imgs {
              order: 2;
            }
            .main-img {
              min-height: 250px;
              max-height: 300px;
            }
            .modal-det {
              order: 1;
            }
            .modal-nom {
              font-size: 24px;
              margin-bottom: 10px;
            }
            .modal-desc {
              max-height: none;
            }
            .price-sect {
              margin-bottom: 15px;
            }
            .stock-sect {
              margin-bottom: 15px;
            }
            .modal-espec {
              max-height: none;
              margin-top: 25px;
            }
            /* Para el modal */
            .p-imgs {
              position: relative;
            }
            .disclaimer-tooltip {
              top: 110px;
              position: absolute;
              right: 10px;
              z-index: 2;
              background: rgba(255, 255, 255, 0.9);
              width: 40px;
              height: 40px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 20px;
              font-weight: bold;
              color: #53c2ee;
              cursor: help;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
              transition: all 0.3s ease;
            }
            .disclaimer-tooltip:hover {
              background: #53c2ee;
              color: white;
              transform: scale(1.1);
            }
            .disclaimer-tooltip::after {
              text-align: center;
              content: "DISCLAIMER\ALos precios y disponibilidad de los productos pueden variar con el tiempo. Te recomendamos realizar tu cotización para garantizar la mejor experiencia.";
              white-space: pre-wrap;
              position: absolute;
              top: 100%;
              right: 0;
              width: 250px;
              padding: 10px;
              background: white;
              color: #333;
              font-size: 12px;
              font-weight: normal;
              border-radius: 6px;
              box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
              opacity: 0;
              pointer-events: none;
              transition: opacity 0.3s ease;
              z-index: 10;
            }
            .disclaimer-tooltip:hover::after {
              opacity: 1;
            }
            /* Para las tarjetas de producto */
            .a-img {
              position: relative;
              /* Añade esto */
            }
            /* Media queries para el modal */
            @media (min-width: 993px) {
              .modal-b {
                grid-template-columns: 1fr 1fr;
                max-height: 75vh;
                gap: 30px;
              }
              .p-imgs {
                position: sticky;
                top: 20px;
                order: 1;
                margin-top: 0;
              }
              .main-img {
                max-height: 100%;
                height: 100%;
              }
              .modal-det {
                order: 2;
                overflow-y: auto;
                max-height: 75vh;
                padding-right: 10px;
              }
              .mobile-filters-btn,
              .close-filters-mobile {
                display: none !important;
              }
            }
            @media (max-width: 992px) {
              .modal-b {
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                max-height: 85vh;
              }
              .modal-c {
                width: 90%;
                max-height: 85vh;
                padding: 20px;
              }
              .main-img {
                min-height: 200px;
                max-height: 300px;
              }
              .modal-nom {
                font-size: 20px;
                line-height: 1.3;
                margin-bottom: 10px;
              }
              .modal-desc {
                font-size: 14px;
                margin-bottom: 15px;
                line-height: 1.4;
              }
              .mobile-filters-btn {
                display: flex !important;
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: var(--pc);
                color: white;
                padding: 12px 20px;
                border-radius: 30px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                z-index: 900;
                align-items: center;
                gap: 8px;
                font-weight: 600;
                font-size: 16px;
                cursor: pointer;
                transition: all 0.3s ease;
              }
              .mobile-filters-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
              }
              .filters-sidebar {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                width: 320px;
                max-width: 85%;
                height: 100%;
                z-index: 999;
                padding: 70px 20px 20px;
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
                background: white;
                overflow-y: auto;
              }
              .filters-sidebar.show {
                transform: translateX(0);
              }
              .close-filters-mobile {
                position: absolute;
                top: 15px;
                right: 20px;
                font-size: 24px;
                color: white;
                cursor: pointer;
                background: var(--pc);
                width: 40px;
                height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
                transition: all 0.2s ease;
              }
              .close-filters-mobile:hover {
                transform: rotate(90deg);
              }
              .articulos-cont {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 18px;
                padding: 10px 5px;
              }
              .a-img {
                height: 160px;
                background: #f5f5f5;
              }
              .a-card {
                padding: 15px;
                transition: all 0.2s ease;
              }
              .a-card:hover {
                transform: none;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
              }
              .a-nom {
                font-size: 16px;
                line-height: 1.3;
              }
              .a-desc {
                font-size: 13px;
                -webkit-line-clamp: 3;
                margin-bottom: 12px;
              }
              .product-brand-logo {
                width: 70px;
                height: 40px;
                margin-left: 0;
              }
              .modal-brand-logo {
                width: 80px;
                height: 45px;
              }
            }
            @media (max-width: 768px) {
              .modal-b {
                grid-template-columns: 1fr 1fr !important;
                gap: 15px;
                max-height: 90vh;
              }
              .modal-c {
                width: 95%;
                padding: 15px;
                max-height: 90vh;
              }
              .main-img {
                min-height: 180px;
                max-height: 220px;
              }
              .modal-nom {
                font-size: 18px;
                margin-bottom: 8px;
              }
              .modal-desc {
                font-size: 13px;
                margin-bottom: 12px;
              }
              .modal-price {
                font-size: 20px;
                margin-bottom: 5px;
              }
              .price-lbl,
              .stock-lbl,
              .min-lbl,
              .qty-lbl {
                font-size: 13px;
              }
              .modal-brand-logo {
                width: 70px;
                height: 40px;
              }
              .brand-option .brand-logo {
                width: 70px;
                height: 40px;
              }
              .articulos-cont {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 15px;
                padding: 10px 5px;
              }
              .a-card {
                padding: 12px;
                border-radius: 10px;
              }
              .a-img {
                height: 140px;
              }
              .a-nom {
                font-size: 15px;
                -webkit-line-clamp: 2;
              }
              .a-desc {
                font-size: 12px;
                -webkit-line-clamp: 2;
              }
              .a-price {
                font-size: 16px;
              }
              .mobile-filters-btn {
                padding: 10px 16px;
                font-size: 15px;
              }
              .filters-sidebar {
                width: 300px;
                max-width: 90%;
                padding: 60px 15px 15px;
              }
              .disclaimer-tooltip {
                width: 30px;
                height: 30px;
                font-size: 18px;
                background: rgba(255, 255, 255, 0.95);
                color: #53c2ee;
                bottom: 10px;
                right: 10px;
              }
              .disclaimer-tooltip:hover {
                background: #53c2ee;
                color: white;
                transform: scale(1.1);
              }
              .disclaimer-tooltip::after {
                width: 280px;
                padding: 12px;
                font-size: 13px;
                line-height: 1.5;
                text-align: center;
                content: "DISCLAIMER\A\ALos precios y disponibilidad de los productos pueden variar con el tiempo. Te recomendamos realizar tu cotización para garantizar la mejor experiencia.";
                white-space: pre-wrap;
                bottom: 100%;
                top: auto;
                right: 0;
              }
            }
            @media (max-width: 576px) {
              .modal-b {
                margin-bottom: -50px;
                grid-template-columns: 1fr !important;
                gap: 12px;
                max-height: none;
                transform: scale(0.95);
                transform-origin: top;
                width: 105%;
                margin-left: -2.5%;
              }
              .modal-c {
                width: 100%;
                padding: 12px;
                max-height: 95vh;
                overflow: visible;
              }
              .p-imgs {
                order: 1;
                position: relative;
              }
              .main-img {
                min-height: 140px;
                max-height: 180px;
                width: 100%;
                object-fit: contain;
              }
              .modal-det {
                order: 2;
                padding: 0;
                transform: scale(0.95);
                transform-origin: top;
              }
              .product-header {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 8px;
                gap: 4px;
              }
              .modal-brand {
                margin-bottom: 4px;
              }
              .modal-cod {
                font-size: 13px;
                order: 2;
              }
              .disclaimer-tooltip {
                top: auto;
                width: 28px;
                height: 28px;
                font-size: 18px;
              }
              .modal-nom {
                font-size: 15px;
                margin-bottom: 5px;
                line-height: 1.3;
              }
              .modal-desc {
                font-size: 12px;
                margin-bottom: 10px;
                line-height: 1.4;
                -webkit-line-clamp: 4;
                display: -webkit-box;
                -webkit-box-orient: vertical;
                overflow: hidden;
              }
              .price-sect,
              .stock-sect {
                padding: 10px;
                margin-bottom: 10px;
              }
              .modal-price {
                font-size: 16px;
              }
              .qty-sect {
                margin: 10px 0;
              }
              .qty-ctrl {
                max-width: 100%;
              }
              .add-cart-sect {
                margin-top: 0
              }
              .add-cart-btn {
                padding: 10px;
                font-size: 14px;
                margin-top: 5px;
              }
              .modal-brand-logo {
                width: 55px;
                height: 30px;
              }
              .articulos-cont {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
              }
              .a-card {
                padding: 8px;
              }
              .a-img {
                height: 110px;
              }
              .price-lbl,
              .stock-lbl,
              .min-lbl,
              .qty-lbl {
                font-size: 12px;
              }
              .qty-input {
                font-size: 14px;
                padding: 8px 12px;
              }
              .qty-btn {
                width: 30px;
              }
            }
            @media (max-width: 400px) {
              /* Ajustes generales del contenedor */
              .articulos-cont {
                grid-template-columns: 1fr;
                gap: 8px;
                padding: 5px;
              }
              /* Mejoras para las tarjetas de producto */
              .a-card {
                display: grid;
                grid-template-columns: 70px 1fr;
                grid-template-rows: auto auto auto auto;
                gap: 4px;
                padding: 8px;
                align-items: start;
              }
              .a-img {
                grid-row: 1 / span 4;
                height: 70px;
                margin-bottom: 0;
              }
              /* Ajustes para el encabezado */
              .a-header {
                grid-column: 2;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 2px;
              }
              .a-cod {
                font-size: 10px;
                margin-bottom: 2px;
              }
              .product-brand-logo {
                width: 50px;
                height: 25px;
                margin-left: 0;
              }
              /* Optimización de textos */
              .a-nom {
                grid-column: 2;
                font-size: 12px;
                line-height: 1.3;
                -webkit-line-clamp: 2;
                margin-bottom: 3px;
              }
              .a-price {
                grid-column: 2;
                font-size: 14px;
                margin-bottom: 2px;
              }
              .a-exist {
                grid-column: 2;
                font-size: 11px;
              }
              .a-uni {
                grid-column: 2;
                font-size: 10px;
              }
              /* Ocultamos elementos menos críticos */
              .a-desc {
                display: none;
              }
              /* Ajustes para el modal en móviles pequeños */
              .modal-b {
                margin-bottom: 0;
                transform: none;
                width: 100%;
                margin-left: 0;
              }
              .modal-c {
                width: 100%;
                padding: 10px;
                border-radius: 0;
              }
              .main-img {
                min-height: 120px;
                max-height: 140px;
              }
              .modal-nom {
                font-size: 15px;
              }
              .modal-desc {
                font-size: 12px;
                -webkit-line-clamp: 3;
              }
              .modal-price {
                font-size: 16px;
              }
              /* Botón de filtros móvil */
              .mobile-filters-btn {
                padding: 8px 12px;
                font-size: 13px;
                bottom: 10px;
                right: 10px;
              }
            }
            @media (max-width: 992px) {
              .catalog-container {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 15px;
              }
              .search-header {
                padding: 0;
                margin-bottom: 10px;
              }
              .search-box {
                max-width: 100%;
              }
            }
            @media (max-width: 992px) and (orientation: landscape) {
              .articulos-cont {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
              }
              .a-img {
                height: 150px;
              }
              .modal-b {
                grid-template-columns: 1fr 1fr !important;
              }
              .main-img {
                min-height: 200px;
                max-height: 100%;
              }
              .modal-brand-logo {
                width: 70px;
                height: 40px;
              }
              .brand-option .brand-logo {
                width: 70px;
                height: 40px;
              }
            }
            @media (max-width: 360px) {
              .modal-b {
                margin-bottom: -50px;
                transform: scale(0.9);
                width: 110%;
                margin-left: -5%;
              }
              .articulos-cont {
                grid-template-columns: 1fr;
                gap: 8px;
              }
              .a-card {
                grid-template-columns: 60px 1fr;
              }
              .a-img {
                height: 60px;
              }
              .a-nom {
                font-size: 11px;
              }
              .a-price {
                font-size: 12px;
              }
              .modal-brand-logo {
                width: 40px;
                height: 22px;
              }
              .brand-option .brand-logo {
                width: 40px;
                height: 22px;
              }
              .modal-c {
                padding: 8px;
              }
              .main-img {
                min-height: 110px;
                max-height: 150px;
              }
              .modal-nom {
                font-size: 13px;
              }
              .modal-desc {
                font-size: 10px;
                -webkit-line-clamp: 2;
              }
              .disclaimer-tooltip {
                width: 22px;
                height: 22px;
                font-size: 14px;
              }
            }
            @media (max-width: 768px) {
              .filter-title {
                padding: 12px 0;
              }
              .filter-checkbox+label {
                padding-left: 28px;
                font-size: 14px;
              }
              .filter-checkbox+label:before {
                width: 18px;
                height: 18px;
              }
              .brand-option {
                padding: 8px;
              }
              input,
              button,
              select,
              textarea {
                min-height: 44px;
              }
            }
            @keyframes pulse {
              0% {
                opacity: 0.6;
                transform: scale(0.98);
              }
              50% {
                opacity: 1;
                transform: scale(1.02);
              }
              100% {
                opacity: 0.6;
                transform: scale(0.98);
              }
            }
            .loading {
              animation: pulse 1.5s ease-in-out infinite;
              color: var(--pc);
              font-weight: 600;
              padding: 40px 20px;
              text-align: center;
            }
            @media (max-width: 320px) {
              .modal-b {
                margin-bottom: -50px;
                transform: scale(0.88);
                width: 112%;
                margin-left: -6%;
              }
              .a-card {
                grid-template-columns: 50px 1fr;
                gap: 5px;
                padding: 4px;
              }
              .a-img {
                height: 50px;
              }
              .a-nom {
                font-size: 10px;
              }
              .a-price {
                font-size: 11px;
              }
              .modal-c {
                width: 100%;
                padding: 6px;
                border-radius: 0;
              }
              .main-img {
                min-height: 100px;
                max-height: 140px;
              }
              .modal-brand-logo {
                width: 35px;
                height: 20px;
              }
              .brand-option .brand-logo {
                width: 35px;
                height: 20px;
              }
              .modal-nom {
                font-size: 12px;
              }
              .modal-desc {
                font-size: 9px;
                -webkit-line-clamp: 2;
              }
              .disclaimer-tooltip {
                width: 20px;
                height: 20px;
                font-size: 12px;
              }
              .price-sect,
              .stock-sect {
                padding: 6px;
              }
              .add-cart-btn {
                font-size: 12px;
                padding: 6px;
              }
            }
          </style>
      </div>
      <div class="catalog---sidebar w-embed w-script">
        <div class="catalog-container">
          <!--  Filtros mejorados  -->
          <aside class="filters-sidebar">
            <div class="filter-header">
              <h3>Filtros</h3>
              <button class="clear-filters" id="clearFilters"><i class="fas fa-times"></i> Limpiar Filtros</button>
            </div>
            <!--  Filtro por categorías  -->
            <div class="filter-group">
              <div class="filter-title collapsed" data-target="categoryFilter">
                <h4><i class="fas fa-tags"></i> Categorías</h4>
                <i class="fas fa-chevron-down"></i>
              </div>
              <div class="filter-content" id="categoryFilter">
                <div class="filter-options" id="categoryOptions"></div>
              </div>
            </div>
            <!--  Filtro por marcas  -->
            <div class="filter-group">
              <div class="filter-title collapsed" data-target="brandFilter">
                <h4><i class="fas fa-copyright"></i> Marcas</h4>
                <i class="fas fa-chevron-down"></i>
              </div>
              <div class="filter-content" id="brandFilter">
                <div class="brands-grid" id="brandOptions"></div>
              </div>
            </div>
            <!--  Filtro por disponibilidad  -->
            <div class="filter-group">
              <div class="filter-title collapsed" data-target="availabilityFilter">
                <h4><i class="fas fa-box-open"></i> Disponibilidad</h4>
                <i class="fas fa-chevron-down"></i>
              </div>
              <div class="filter-content" id="availabilityFilter">
                <div class="filter-option">
                  <input type="checkbox" id="filterAvailable" class="filter-checkbox" value="available">
                  <label for="filterAvailable">Disponibles</label>
                </div>
                <div class="filter-option">
                  <input type="checkbox" id="filterUnavailable" class="filter-checkbox" value="unavailable">
                  <label for="filterUnavailable">No disponibles</label>
                </div>
              </div>
            </div>
            <!--  Filtro por rango de precios  -->
            <div class="filter-group">
              <div class="filter-title collapsed" data-target="priceFilter">
                <h4><i class="fas fa-dollar-sign"></i> Rango de precios</h4>
                <i class="fas fa-chevron-down"></i>
              </div>
              <div class="filter-content" id="priceFilter">
                <div class="price-range-slider">
                  <div class="price-inputs">
                    <div class="price-input">
                      <label for="minPrice">Mínimo:</label>
                      <input type="number" id="minPrice" placeholder="Mínimo">
                    </div>
                    <div class="price-input">
                      <label for="maxPrice">Máximo:</label>
                      <input type="number" id="maxPrice" placeholder="Máximo">
                    </div>
                  </div>
                  <div class="price-range-values">
                    <span id="priceRangeMin">Lps. 0</span>
                    <span>-</span>
                    <span id="priceRangeMax">Lps. 1,000,000</span>
                  </div>
                </div>
              </div>
            </div>
            <!--  Ordenamiento  -->
            <div class="filter-group">
              <div class="filter-title collapsed" data-target="sortFilter">
                <h4><i class="fas fa-sort"></i> Ordenar por</h4>
                <i class="fas fa-chevron-down"></i>
              </div>
              <div class="filter-content" id="sortFilter">
                <div class="filter-option">
                  <input type="radio" id="sortPriceAsc" name="sortOption" class="filter-checkbox" value="precio-asc" checked="">
                  <label for="sortPriceAsc">Precio (Menor a Mayor)</label>
                </div>
                <div class="filter-option">
                  <input type="radio" id="sortPriceDesc" name="sortOption" class="filter-checkbox" value="precio-desc">
                  <label for="sortPriceDesc">Precio (Mayor a Menor)</label>
                </div>
                <div class="filter-option">
                  <input type="radio" id="sortAvailability" name="sortOption" class="filter-checkbox" value="existencia">
                  <label for="sortAvailability">Disponibilidad</label>
                </div>
              </div>
            </div>
            <div class="result-c" id="resultCount">Cargando productos...</div>
          </aside>
          <!--  Contenido principal  -->
          <main class="products-section">
            <!--  Barra de búsqueda  -->
            <header class="search-header">
              <div class="search-box">
                <input type="text" id="searchInput" placeholder="Buscar productos por nombre o código..." autocomplete="off">
              </div>
            </header>
            <!--  Grid de productos  -->
            <div class="articulos-cont" id="articulosContainer"></div>
            <!--  Paginación  -->
            <div class="pagination" id="paginationControls">
              <button class="pagination-btn" id="prevPage">Anterior</button>
              <span class="pagination-info" id="pageInfo">Página 1 de 1</span>
              <button class="pagination-btn" id="nextPage">Siguiente</button>
            </div>
          </main>
        </div>
        <!--  Modal  -->
        <div class="p-modal" id="productoModal">
          <div class="modal-c" id="modalContent"><span class="close-modal">&times;</span>
            <div class="modal-content-zoom"></div>
            <div class="modal-b" id="modalBody"></div>
          </div>
        </div>
        <script>
            // Configuración global extendida
            window.apiBaseUrl = 'https://www.distribuidoraindustrial.net:9000/api';
            window.allProducts = [];
            window.productImagesCache = window.productImagesCache || {};
            window.loadedImages = window.loadedImages || new Set();
            window.activeImageLoads = 0;
            window.maxConcurrentLoads = 3;
            window.cart = JSON.parse(sessionStorage.getItem('cart')) || [];
            window.currentPage = 1;
            window.productsPerPage = 20;
            window.activeFilters = {
              categories: [],
              brands: [],
              availability: [],
              priceRange: {
                min: 0,
                max: 1000000
              },
              sortOption: 'precio-asc'
            };
            // Función para validar impuestos
            function validarImpuesto(producto) {
              if (!producto) return {
                aplicaImpuesto: false,
                tasaImpuesto: 0,
                exento: true
              };
              const codigoStr = String(producto.codigo_Impuesto || '').trim();
              const aplicaImpuesto = codigoStr === '1'; // 1 = aplica impuesto
              const tasaImpuesto = aplicaImpuesto ? (parseFloat(producto.Impuesto) || 0.15) : 0;
              return {
                aplicaImpuesto: aplicaImpuesto,
                tasaImpuesto: tasaImpuesto,
                exento: !aplicaImpuesto
              };
            }
            // Función para formatear precios
            window.formatPrice = function(price, showTaxInfo = false, taxRate = 0) {
              if (!price && price !== 0) return 'Consultar precio';
              const options = {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
              };
              if (showTaxInfo && taxRate > 0) {
                const taxAmount = price * taxRate;
                return 'Lps. ' + Number(price + taxAmount).toLocaleString('es-HN', options) + ' (Incluye ISV)';
              }
              return 'Lps. ' + Number(price).toLocaleString('es-HN', options);
            };
            // Función para mostrar notificaciones
            window.showToast = function(message, type = 'success') {
              const toast = document.createElement('div');
              toast.className = `toast-notif ${type}`;
              toast.innerHTML =
                `<i class="fas fa-${type==='success'?'check-circle':'exclamation-circle'}"></i> ${message}`;
              document.body.appendChild(toast);
              setTimeout(() => toast.classList.add('show'), 10);
              setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
              }, 3000);
            };
            // Función para cargar imágenes progresivamente
            function loadImagesProgressively(specificContainers = null) {
              const imageContainers = specificContainers || Array.from(document.querySelectorAll(
                '.a-img[data-has-image="1"]:not(.loaded)'));
              if (window.activeImageLoads >= window.maxConcurrentLoads || imageContainers.length === 0) {
                return;
              }
              const nextContainers = imageContainers.slice(0, window.maxConcurrentLoads - window.activeImageLoads);
              nextContainers.forEach(container => {
                const productId = container.dataset.id;
                if (window.productImagesCache[productId]) {
                  displayImage(container, window.productImagesCache[productId]);
                  window.loadedImages.add(productId);
                  return;
                }
                container.innerHTML = '<div class="img-loader"><i class="fas fa-spinner fa-spin"></i></div>';
                window.activeImageLoads++;
                const loadTimer = setTimeout(() => {
                  container.innerHTML =
                    '<div class="img-retry">Reintentar carga <i class="fas fa-redo"></i></div>';
                  container.querySelector('.img-retry').addEventListener('click', () =>
                    loadImagesProgressively());
                  window.activeImageLoads--;
                }, 5000);
                fetch(`${window.apiBaseUrl}/articulos/image/?id=${encodeURIComponent(productId)}&t=${Date.now()}`)
                  .then(response => {
                    clearTimeout(loadTimer);
                    if (!response.ok) throw new Error('Imagen no encontrada');
                    return response.text();
                  })
                  .then(base64Image => {
                    clearTimeout(loadTimer);
                    const imageData = `data:image/jpeg;base64,${base64Image}`;
                    window.productImagesCache[productId] = imageData;
                    window.loadedImages.add(productId);
                    displayImage(container, imageData);
                    window.activeImageLoads--;
                    setTimeout(() => loadImagesProgressively(), 100);
                  })
                  .catch(error => {
                    clearTimeout(loadTimer);
                    console.error(`Error cargando imagen ${productId}:`, error);
                    showImagePlaceholder(container);
                    window.activeImageLoads--;
                    setTimeout(() => loadImagesProgressively(), 200);
                  });
              });
            }
            function loadVisibleImagesFirst() {
              const visibleContainers = Array.from(document.querySelectorAll('.a-img[data-has-image="1"]:not(.loaded)'))
                .filter(container => {
                  const rect = container.getBoundingClientRect();
                  return (
                    rect.top >= 0 &&
                    rect.left >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                  );
                });
              if (visibleContainers.length > 0) {
                loadImagesProgressively(visibleContainers);
              } else {
                loadImagesProgressively();
              }
            }
            function displayImage(container, imageData) {
              container.classList.add('loaded');
              const img = new Image();
              img.onload = () => {
                container.innerHTML = '';
                container.appendChild(img);
                img.style.opacity = '0';
                setTimeout(() => {
                  img.style.transition = 'opacity 0.3s ease';
                  img.style.opacity = '1';
                }, 50);
              };
              img.src = imageData;
              img.alt = 'Producto';
              img.style.width = '100%';
              img.style.height = '100%';
              img.style.objectFit = 'contain';
            }
            function showImagePlaceholder(container) {
              container.innerHTML = '<i class="fas fa-box-open fa-3x" style="color:#ccc;"></i>';
              container.style.display = 'flex';
              container.style.alignItems = 'center';
              container.style.justifyContent = 'center';
              container.style.backgroundColor = '#f5f5f5';
            }
            const imgObserver = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  const imgContainer = entry.target;
                  const productId = imgContainer.dataset.id;
                  if (window.loadedImages.has(productId)) {
                    imgObserver.unobserve(imgContainer);
                    return;
                  }
                  imgObserver.unobserve(imgContainer);
                  if (imgContainer.dataset.hasImage === '1') {
                    if ('requestIdleCallback' in window) {
                      window.requestIdleCallback(
                        () => loadImagesProgressively([imgContainer]), {
                          timeout: 500
                        }
                      );
                    } else {
                      setTimeout(() => loadImagesProgressively([imgContainer]), 100);
                    }
                  }
                }
              });
            }, {
              rootMargin: '200px',
              threshold: 0.01
            });
            // Función para cargar y renderizar filtros
            async function loadAndRenderFilters() {
              try {
                // Cargar categorías
                const categoriesResponse = await fetch(`${window.apiBaseUrl}/categorias`);
                const categories = await categoriesResponse.json();
                renderCategoryFilters(categories);
                // Cargar marcas
                const brandsResponse = await fetch(`${window.apiBaseUrl}/marcas`);
                const brands = await brandsResponse.json();
                renderBrandFilters(brands);
                // Calcular rangos de precios
                calculatePriceRanges();
              } catch (error) {
                console.error('Error cargando filtros:', error);
              }
            }
            // Renderizar filtros de categorías
            function renderCategoryFilters(categories) {
              const container = document.getElementById('categoryOptions');
              container.innerHTML = '';
              categories.forEach(category => {
                const option = document.createElement('div');
                option.className = 'filter-option';
                option.innerHTML = `
                <input type="checkbox" id="cat_${category.id}" class="filter-checkbox" value="${category.id}">
                <label for="cat_${category.id}">${category.nombre}</label>
            `;
                container.appendChild(option);
                option.querySelector('input').addEventListener('change', (e) => {
                  if (e.target.checked) {
                    window.activeFilters.categories.push(e.target.value);
                  } else {
                    window.activeFilters.categories = window.activeFilters.categories.filter(id => id !== e.target.value);
                  }
                  filterAndRenderProducts();
                });
              });
            }
            function renderBrandFilters(brands) {
              const container = document.getElementById('brandOptions');
              container.innerHTML = '';
              brands.forEach(brand => {
                if (!brand.url_imagen) return; // Solo mostramos marcas con logo
                const option = document.createElement('div');
                option.className = 'brand-option';
                option.title = brand.nombre; // Tooltip con el nombre
                option.innerHTML = `
                <input type="checkbox" id="brand_${brand.nombre}" class="filter-checkbox" value="${brand.nombre}">
                <label for="brand_${brand.nombre}">
                    <img src="${brand.url_imagen}" class="brand-logo" alt="${brand.nombre}">
                </label>
            `;
                container.appendChild(option);
                option.querySelector('input').addEventListener('change', (e) => {
                  if (e.target.checked) {
                    window.activeFilters.brands.push(e.target.value);
                  } else {
                    window.activeFilters.brands = window.activeFilters.brands.filter(name => name !== e.target.value);
                  }
                  filterAndRenderProducts();
                });
              });
            }
            // Calcular rangos de precios (mejorada con redondeo)
            function calculatePriceRanges() {
              if (window.allProducts.length === 0) return;
              const prices = window.allProducts.map(p =>
                p.Precio_Web || p.Precio_de_Contado || p.Precio_Lista || 0
              ).filter(p => p > 0);
              // Obtener valores mínimos y máximos sin redondear
              const minPrice = Math.min(...prices);
              const maxPrice = Math.max(...prices);
              document.getElementById('minPrice').value = minPrice.toFixed(2);
              document.getElementById('maxPrice').value = maxPrice.toFixed(2);
              // Mostrar en el filtro con 2 decimales
              document.getElementById('priceRangeMin').textContent = 'Lps. ' + minPrice.toLocaleString('es-HN', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
              });
              document.getElementById('priceRangeMax').textContent = 'Lps. ' + maxPrice.toLocaleString('es-HN', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
              });
              window.activeFilters.priceRange = {
                min: minPrice,
                max: maxPrice
              };
              // Eventos para actualizar el rango
              document.getElementById('minPrice').addEventListener('change', (e) => {
                const value = parseFloat(e.target.value) || 0;
                window.activeFilters.priceRange.min = value;
                document.getElementById('priceRangeMin').textContent = 'Lps. ' + value.toLocaleString('es-HN', {
                  minimumFractionDigits: 2,
                  maximumFractionDigits: 2
                });
                filterAndRenderProducts();
              });
              document.getElementById('maxPrice').addEventListener('change', (e) => {
                const value = parseFloat(e.target.value) || maxPrice;
                window.activeFilters.priceRange.max = value;
                document.getElementById('priceRangeMax').textContent = 'Lps. ' + value.toLocaleString('es-HN', {
                  minimumFractionDigits: 2,
                  maximumFractionDigits: 2
                });
                filterAndRenderProducts();
              });
              filterAndRenderProducts();
            }
            // Función para filtrar productos con todos los criterios
            function filterAndRenderProducts() {
              const searchTerm = document.getElementById('searchInput').value.toLowerCase();
              let filteredProducts = window.allProducts.filter(p => {
                // Filtro por búsqueda
                const matchesSearch = searchTerm === '' ||
                  (p.Descripcion_Corta && p.Descripcion_Corta.toLowerCase().includes(searchTerm)) ||
                  (p.Articulo && p.Articulo.toLowerCase().includes(searchTerm)) ||
                  (p.Nombre_Grupo && p.Nombre_Grupo.toLowerCase().includes(searchTerm)) ||
                  (p.Nombre_Categoria && p.Nombre_Categoria.toLowerCase().includes(searchTerm));
                // Filtro por categorías
                const matchesCategory = window.activeFilters.categories.length === 0 ||
                  window.activeFilters.categories.includes(p.Categoria);
                // Filtro por marcas
                const matchesBrand = window.activeFilters.brands.length === 0 ||
                  (p.Marca && window.activeFilters.brands.includes(p.Marca.trim()));
                // Filtro por disponibilidad
                const matchesAvailability = window.activeFilters.availability.length === 0 ||
                  (window.activeFilters.availability.includes('available') && p.Existencia_Total > 0) ||
                  (window.activeFilters.availability.includes('unavailable') && (p.Existencia_Total <= 0 || p.Existencia_Total === null));
                // Filtro por rango de precios
                const price = p.Precio_Web || p.Precio_de_Contado || p.Precio_Lista || 0;
                const matchesPriceRange = price >= window.activeFilters.priceRange.min &&
                  price <= window.activeFilters.priceRange.max;
                return matchesSearch && matchesCategory && matchesBrand && matchesAvailability && matchesPriceRange;
              });
              updateResultCount(filteredProducts.length);
              // Ordenar productos
              filteredProducts = sortProducts(filteredProducts, window.activeFilters.sortOption);
              // Mostrar solo los productos de la página actual
              const startIndex = (window.currentPage - 1) * window.productsPerPage;
              const endIndex = startIndex + window.productsPerPage;
              const paginatedProducts = filteredProducts.slice(startIndex, endIndex);
              renderProducts(paginatedProducts);
              updatePaginationControls(filteredProducts.length);
              updateClearFiltersButton();
            }
            function updateClearFiltersButton() {
              const clearFiltersBtn = document.getElementById('clearFilters');
              clearFiltersBtn.style.display = hasActiveFilters() ? 'flex' : 'none';
            }
            function renderProducts(products) {
              const container = document.getElementById('articulosContainer');
              if (products.length === 0) {
                container.innerHTML = '<div class="no-res">No se encontraron productos que coincidan con los filtros</div>';
                return;
              }
              const existingCards = {};
              Array.from(container.children).forEach(card => {
                const productId = card.dataset.id;
                existingCards[productId] = card;
              });
              const fragment = document.createDocumentFragment();
              const newCards = [];
              products.forEach(product => {
                const productId = product.Articulo;
                let card = existingCards[productId];
                if (!card) {
                  card = document.createElement('div');
                  card.className = 'a-card';
                  card.dataset.id = productId;
                  const precio = product.Precio_Web || product.Precio_de_Contado || product.Precio_Lista;
                  const disponible = product.Existencia_Total > 0;
                  const imgContainer = document.createElement('div');
                  imgContainer.className = 'a-img img-placeholder';
                  imgContainer.dataset.id = productId;
                  imgContainer.dataset.hasImage = product.Tiene_Imagen || 0;
                  const precioFormateado = precio ?
                    'Lps. ' + Number(precio).toLocaleString('es-HN', {
                      minimumFractionDigits: 2,
                      maximumFractionDigits: 2
                    }) : 'Consultar precio';
                  // Mostrar logo de marca si está disponible
                  const brandLogo = product.Marca_Imagen_URL ?
                    `<img src="${product.Marca_Imagen_URL}" class="product-brand-logo" alt="${product.Marca || 'Marca'}">` :
                    '';
                  if (window.productImagesCache[productId]) {
                    imgContainer.classList.add('loaded');
                    imgContainer.innerHTML =
                      `<img src="${window.productImagesCache[productId]}" alt="Producto" style="width:100%;height:100%;object-fit:contain;opacity:1;">`;
                  } else {
                    showImagePlaceholder(imgContainer);
                  }
                  card.innerHTML = `
                    ${imgContainer.outerHTML}
                    <div class="a-header">
                        <div class="a-cod">Código: ${product.Articulo || 'N/A'}</div>
                        ${brandLogo}
                    </div>
                    <div class="a-nom">${product.Nombre_Grupo || product.Nombre_Categoria || 'Producto'}</div>
                    <div class="a-desc">${product.Descripcion_Corta || 'Descripción no disponible'}</div>
                    <div class="a-price">${precioFormateado}</div>
                    <div class="a-exist" style="color:${disponible ? '#3498db' : '#e74c3c'}">${disponible ? 'Disponible' : 'No Disponible'}</div>
                    <div class="a-uni">Mín.: ${product.Unidad_Minima_Venta || 1} ${product.Unidad_Medida || 'unidad'}</div>
                `;
                  card.addEventListener('click', () => showProductDetail(productId, card));
                  if (!window.loadedImages.has(productId)) {
                    imgObserver.observe(imgContainer);
                  }
                  newCards.push(card);
                }
                fragment.appendChild(card);
              });
              Object.keys(existingCards).forEach(id => {
                if (!products.some(p => p.Articulo === id)) {
                  existingCards[id].remove();
                }
              });
              container.appendChild(fragment);
              if ('requestIdleCallback' in window) {
                window.requestIdleCallback(
                  () => loadVisibleImagesFirst(), {
                    timeout: 1000
                  }
                );
              } else {
                setTimeout(loadVisibleImagesFirst, 300);
              }
            }
            function sortProducts(products, sortOption) {
              return [...products].sort((a, b) => {
                const priceA = a.Precio_Web || a.Precio_de_Contado || a.Precio_Lista || 0;
                const priceB = b.Precio_Web || b.Precio_de_Contado || b.Precio_Lista || 0;
                const nameA = (a.Descripcion_Corta || '').toLowerCase();
                const nameB = (b.Descripcion_Corta || '').toLowerCase();
                switch (sortOption) {
                  case 'precio-asc':
                    return priceA - priceB;
                  case 'precio-desc':
                    return priceB - priceA;
                  case 'existencia':
                    return (b.Existencia_Total || 0) - (a.Existencia_Total || 0);
                  default:
                    return 0;
                }
              });
            }
            function updateResultCount(count) {
              const resultCount = document.getElementById('resultCount');
              if (count === 0) {
                resultCount.textContent = 'No se encontraron productos';
                resultCount.style.color = '#e74c3c';
              } else {
                resultCount.textContent = `${count} Producto${count !== 1 ? 's' : ''} Encontrado${count !== 1 ? 's' : ''}`;
                resultCount.style.color = '#c4c826';
              }
            }
            function updatePaginationControls(totalProducts) {
              const totalPages = Math.ceil(totalProducts / window.productsPerPage);
              const pageInfo = document.getElementById('pageInfo');
              const prevBtn = document.getElementById('prevPage');
              const nextBtn = document.getElementById('nextPage');
              pageInfo.textContent = `Página ${window.currentPage} de ${totalPages}`;
              prevBtn.disabled = window.currentPage === 1;
              nextBtn.disabled = window.currentPage === totalPages || totalPages === 0;
              document.getElementById('paginationControls').style.display =
                totalProducts <= window.productsPerPage ? 'none' : 'flex';
            }
            function showProductDetail(productId, card) {
              const modal = document.getElementById('productoModal'),
                modalBody = document.getElementById('modalBody');
              window.selectedCard = card;
              card.style.visibility = 'hidden';
              modalBody.innerHTML = '<div class="loading">Cargando detalles del producto...</div>';
              modal.classList.add('show');
              document.body.style.overflow = 'hidden';
              fetch(`${window.apiBaseUrl}/articulos/?id=${encodeURIComponent(productId)}`)
                .then(r => {
                  if (!r.ok) throw new Error('Producto no encontrado');
                  return r.json();
                })
                .then(product => {
                  if (Array.isArray(product) && product.length > 0) {
                    renderModalContent(product[0]);
                    loadModalImage(productId);
                  } else {
                    throw new Error('Producto no encontrado');
                  }
                })
                .catch(e => {
                  console.error('Error:', e);
                  modalBody.innerHTML = `<div class="error">Error al cargar el producto: ${e.message}</div>`;
                });
            }
            function loadModalImage(productId) {
              const mainImgContainer = document.querySelector('.main-img');
              if (!mainImgContainer) return;
              if (window.productImagesCache[productId]) {
                displayModalImage(mainImgContainer, window.productImagesCache[productId]);
                return;
              }
              mainImgContainer.innerHTML = '<div class="img-loader"><i class="fas fa-spinner fa-spin fa-2x"></i></div>';
              window.activeImageLoads++;
              const loadTimer = setTimeout(() => {
                mainImgContainer.innerHTML =
                  '<div class="img-retry">Reintentar carga <i class="fas fa-redo"></i></div>';
                mainImgContainer.querySelector('.img-retry').addEventListener('click', () => loadModalImage(
                  productId));
                window.activeImageLoads--;
              }, 5000);
              fetch(`${window.apiBaseUrl}/articulos/image/?id=${encodeURIComponent(productId)}&t=${Date.now()}`)
                .then(response => {
                  clearTimeout(loadTimer);
                  if (!response.ok) throw new Error('Imagen no encontrada');
                  return response.text();
                })
                .then(base64Image => {
                  clearTimeout(loadTimer);
                  const imageData = `data:image-jpeg;base64,${base64Image}`;
                  window.productImagesCache[productId] = imageData;
                  displayModalImage(mainImgContainer, imageData);
                  window.activeImageLoads--;
                })
                .catch(error => {
                  clearTimeout(loadTimer);
                  console.error(`Error cargando imagen modal ${productId}:`, error);
                  mainImgContainer.innerHTML = '<i class="fas fa-box-open fa-3x"></i>';
                  window.activeImageLoads--;
                });
            }
            function displayModalImage(container, imageData) {
              const img = new Image();
              img.onload = () => {
                container.innerHTML = '';
                container.appendChild(img);
                img.style.opacity = '0';
                setTimeout(() => {
                  img.style.transition = 'opacity 0.3s ease';
                  img.style.opacity = '1';
                }, 50);
              };
              img.src = imageData;
              img.className = 'modal-img';
              img.alt = 'Producto';
              img.style.maxWidth = '100%';
              img.style.maxHeight = '100%';
              img.style.objectFit = 'contain';
            }
            function renderModalContent(product) {
              const modalBody = document.getElementById('modalBody'),
                precio = product.Precio_Web || product.Precio_de_Contado || product.Precio_Lista,
                disponible = product.Existencia_Total > 0,
                minVenta = product.Unidad_Minima_Venta || 1;
              // Validación de impuestos
              const {
                aplicaImpuesto,
                tasaImpuesto,
                exento
              } = validarImpuesto(product);
              // Mostrar logo de marca si está disponible
              const brandLogo = product.Marca_Imagen_URL ?
                `<div class="modal-brand">
                <img src="${product.Marca_Imagen_URL}" alt="${product.Marca || 'Marca'}" class="modal-brand-logo">
                <span>${product.Marca || ''}</span>
            </div>` :
                '';
              modalBody.innerHTML = `
            <div class="p-imgs">
                <div class="product-header">
                    ${brandLogo}
                    <div class="modal-cod">Código: ${product.Articulo || 'N/A'}</div>
                    <div class="disclaimer-tooltip">!</div>
                </div>
                <div class="main-img"></div>
            </div>
            <div class="modal-det">
                <div class="modal-h">
                    <h2 class="modal-nom">${product.Nombre_Grupo || product.Nombre_Categoria || 'Producto'}</h2>
                    <div class="modal-desc">${product.Descripcion_Corta || 'Descripción no disponible'}</div>
                </div>
                <div class="price-sect">
                    <div class="price-lbl">Precio</div>
                    <div class="modal-price">${window.formatPrice(precio)}</div>
                    ${exento ? 
                        `<div class="tax-info" style="color: #27ae60;">
                            <i class="fas fa-check-circle"></i> Exento de impuestos
                        </div>` : 
                        `<div class="tax-info" style="color: #7f8c8d;">
                            <i class="fas fa-info-circle"></i> Precios no incluyen ISV.
                        </div>`
                    }
                </div>
                <div class="stock-sect" style="background:${disponible ? 'rgba(46,204,113,0.1)' : 'rgba(231,76,60,0.1)'}; border-left:4px solid ${disponible ? '#3498db' : '#e74c3c'}">
                    <div class="stock-info">
                        <span class="stock-lbl">Disponibilidad</span>
                        <span class="stock-val" style="color:${disponible ? '#3498db' : '#e74c3c'}">
                            <i class="fas fa-${disponible ? 'check-circle' : 'times-circle'}"></i> ${disponible ? 'Disponible' : 'No Disponible'}
                        </span>
                    </div>
                    <div class="min-lbl">Mínimo: ${minVenta} ${product.Unidad_Medida || 'unidad'}</div>
                </div>
                <div class="qty-sect">
                    <label for="quantity" class="qty-lbl">Cantidad:</label>
                    <div class="qty-ctrl">
                        <button class="qty-btn minus-btn" type="button">-</button>
                        <input type="number" id="quantity", class="qty-inp" min="${minVenta}" step="${minVenta}" value="${minVenta}">
                        <button class="qty-btn plus-btn" type="button">+</button>
                    </div>
                </div>
                <div class="add-cart-sect">
                    <button class="add-cart-btn" ${disponible ? `onclick="addToCartModal('${product.Articulo}',${minVenta})"` : 'disabled style="background:#e74c3c;cursor:not-allowed"'}>
                        <i class="fas fa-${disponible ? 'cart-plus' : 'ban'}"></i> ${disponible ? 'Agregar al carrito' : 'No Disponible'}
                    </button>
                    ${disponible ? '<div class="success-msg" id="successMessage"></div>' : ''}
                </div>
            </div>
        `;
              setupModalEvents(product);
            }
            function setupModalEvents(product) {
              const minVenta = product.Unidad_Minima_Venta || 1;
              if (product.Existencia_Total > 0) {
                const qtyInput = document.getElementById('quantity'),
                  minusBtn = document.querySelector('.minus-btn'),
                  plusBtn = document.querySelector('.plus-btn');
                minusBtn.addEventListener('click', () => {
                  let newVal = parseInt(qtyInput.value) - minVenta;
                  if (newVal < minVenta) newVal = minVenta;
                  qtyInput.value = newVal;
                });
                plusBtn.addEventListener('click', () => {
                  let newVal = parseInt(qtyInput.value) + minVenta;
                  qtyInput.value = newVal;
                });
                qtyInput.addEventListener('change', (e) => {
                  let newVal = parseInt(e.target.value);
                  if (isNaN(newVal)) {
                    e.target.value = minVenta;
                    return;
                  }
                  if (newVal < minVenta) {
                    e.target.value = minVenta;
                    window.showToast(`La cantidad mínima es ${minVenta}`, 'error');
                    return;
                  }
                  if (newVal % minVenta !== 0) {
                    const adjustedQty = Math.ceil(newVal / minVenta) * minVenta;
                    e.target.value = adjustedQty;
                    window.showToast(`Debe pedir en múltiplos de ${minVenta}. Se ajustó a ${adjustedQty}`,
                      'warning');
                  }
                });
              }
            }
            function closeProductModal() {
              if (!window.selectedCard) return;
              const modal = document.getElementById('productoModal');
              modal.classList.remove('show');
              window.selectedCard.style.visibility = 'visible';
              window.selectedCard = null;
              document.body.style.overflow = 'auto';
            }
            function debounce(func, wait) {
              let timeout;
              return function() {
                const context = this,
                  args = arguments;
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(context, args), wait);
              };
            }
            // Función para agregar al carrito desde el modal
            window.addToCartModal = function(productId, minQuantity) {
              const product = window.allProducts.find(p => p.Articulo === productId);
              if (!product) return;
              const quantity = parseInt(document.getElementById('quantity').value) || minQuantity;
              // Validación de impuestos
              const impuestoInfo = validarImpuesto(product);
              const impuestoCalculado = impuestoInfo.aplicaImpuesto ?
                (product.Precio_Web || product.Precio_de_Contado || product.Precio_Lista) * quantity * impuestoInfo.tasaImpuesto : 0;
              const existingItem = window.cart.find(item => item.id === productId);
              if (existingItem) {
                existingItem.quantity += quantity;
                if (impuestoInfo.aplicaImpuesto) {
                  existingItem.impuestoCalculado += impuestoCalculado;
                }
              } else {
                window.cart.push({
                  id: productId,
                  name: product.Nombre_Grupo || product.Nombre_Categoria || 'Producto',
                  description: product.Descripcion_Corta || 'Descripción no disponible',
                  price: product.Precio_Web || product.Precio_de_Contado || product.Precio_Lista,
                  quantity: quantity,
                  minQuantity: minQuantity,
                  unit: product.Unidad_Medida || 'unidad',
                  image: window.productImagesCache[productId] || null,
                  exento: impuestoInfo.exento,
                  impuestoCalculado: impuestoCalculado,
                  tasaImpuesto: impuestoInfo.tasaImpuesto
                });
              }
              sessionStorage.setItem('cart', JSON.stringify(window.cart));
              const successMsg = document.getElementById('successMessage');
              if (successMsg) {
                successMsg.textContent = '¡Agregado al carrito!';
                setTimeout(() => successMsg.textContent = '', 2000);
              }
              if (window.updateCartUI) window.updateCartUI();
              window.showToast('Producto agregado al carrito', 'success');
            };
            // Función para inicializar eventos de los filtros
            function initFilterEvents() {
              // Eventos para dropdowns
              document.querySelectorAll('.filter-title').forEach(title => {
                title.addEventListener('click', () => {
                  const targetId = title.getAttribute('data-target');
                  const content = document.getElementById(targetId);
                  title.classList.toggle('collapsed');
                  content.classList.toggle('show');
                  // Rotar ícono
                  const icon = title.querySelector('i');
                  if (icon) {
                    icon.classList.toggle('fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                  }
                });
              });
              // Eventos para disponibilidad
              document.getElementById('filterAvailable').addEventListener('change', (e) => {
                if (e.target.checked) {
                  window.activeFilters.availability.push('available');
                } else {
                  window.activeFilters.availability = window.activeFilters.availability.filter(a => a !== 'available');
                }
                filterAndRenderProducts();
              });
              document.getElementById('filterUnavailable').addEventListener('change', (e) => {
                if (e.target.checked) {
                  window.activeFilters.availability.push('unavailable');
                } else {
                  window.activeFilters.availability = window.activeFilters.availability.filter(a => a !== 'unavailable');
                }
                filterAndRenderProducts();
              });
              // Eventos para ordenamiento
              document.querySelectorAll('input[name="sortOption"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                  window.activeFilters.sortOption = e.target.value;
                  filterAndRenderProducts();
                });
              });
              document.getElementById('clearFilters').addEventListener('click', () => {
                // Resetear filtros usando los valores dinámicos actuales
                const currentMin = Math.min(...window.allProducts.map(p =>
                  p.Precio_Web || p.Precio_de_Contado || p.Precio_Lista || 0
                ).filter(p => p > 0));
                const currentMax = Math.max(...window.allProducts.map(p =>
                  p.Precio_Web || p.Precio_de_Contado || p.Precio_Lista || 0
                ).filter(p => p > 0));
                window.activeFilters = {
                  categories: [],
                  brands: [],
                  availability: [],
                  priceRange: {
                    min: currentMin || 0, // Si currentMin es undefined/null, usa 0
                    max: currentMax || 1000000 // Si currentMax es undefined/null, usa 1,000,000
                  },
                  sortOption: 'precio-asc'
                };
                // Resetear controles UI
                document.querySelectorAll('.filter-checkbox:checked').forEach(cb => cb.checked = false);
                document.getElementById('sortPriceAsc').checked = true;
                document.getElementById('searchInput').value = '';
                // Actualizar rangos de precio en la UI con valores dinámicos
                document.getElementById('minPrice').value = currentMin.toFixed(2) || '0';
                document.getElementById('maxPrice').value = currentMax.toFixed(2) || '1000000';
                document.getElementById('priceRangeMin').textContent =
                  'Lps. ' + (currentMin || 0).toLocaleString('es-HN', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                  });
                document.getElementById('priceRangeMax').textContent =
                  'Lps. ' + (currentMax || 1000000).toLocaleString('es-HN', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                  });
                // Volver a renderizar y actualizar botón
                filterAndRenderProducts();
                updateClearFiltersButton();
              });
            }
            // Inicialización
            document.addEventListener('DOMContentLoaded', function() {
              const searchInput = document.getElementById('searchInput'),
                closeModal = document.querySelector('.close-modal'),
                modal = document.getElementById('productoModal'),
                prevPageBtn = document.getElementById('prevPage'),
                nextPageBtn = document.getElementById('nextPage');
              // Funciones de paginación
              const resetPageOnChange = () => {
                window.currentPage = 1;
                filterAndRenderProducts();
              };
              // Eventos
              searchInput.addEventListener('input', debounce(resetPageOnChange, 300));
              closeModal.addEventListener('click', closeProductModal);
              modal.addEventListener('click', (e) => {
                if (e.target === modal) closeProductModal();
              });
              // Eventos de paginación
              prevPageBtn.addEventListener('click', () => {
                if (window.currentPage > 1) {
                  window.currentPage--;
                  filterAndRenderProducts();
                  document.querySelector('.search-header').scrollIntoView({
                    behavior: 'smooth'
                  });
                }
              });
              nextPageBtn.addEventListener('click', () => {
                const totalProducts = document.getElementById('resultCount').textContent.match(/\d+/)?.[0] || 0;
                const totalPages = Math.ceil(totalProducts / window.productsPerPage);
                if (window.currentPage < totalPages) {
                  window.currentPage++;
                  filterAndRenderProducts();
                  document.querySelector('.search-header').scrollIntoView({
                    behavior: 'smooth'
                  });
                }
              });
              document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('show')) closeProductModal();
              });
              fetchAllProducts();
              updateClearFiltersButton();
            });
            function fetchAllProducts() {
              // Obtener parámetro de marca de la URL
              const urlParams = new URLSearchParams(window.location.search);
              const marcaParam = urlParams.get('marca');
              const container = document.getElementById('articulosContainer');
              container.innerHTML = '<div class="loading">Cargando catálogo de productos...</div>';
              fetch(`${window.apiBaseUrl}/articulos/`)
                .then(r => {
                  if (!r.ok) throw new Error('No se pudo conectar con el servidor');
                  return r.json();
                })
                .then(products => {
                  window.allProducts = products;
                  loadAndRenderFilters();
                  initFilterEvents();
                  // Si hay un parámetro de marca, aplicar el filtro automáticamente
                  if (marcaParam) {
                    // Esperar a que se rendericen los filtros
                    setTimeout(() => {
                      const brandCheckbox = document.querySelector(`input[value="${marcaParam.replace(/"/g, '\\"')}"]`);
                      if (brandCheckbox) {
                        brandCheckbox.checked = true;
                        window.activeFilters.brands = [marcaParam];
                        filterAndRenderProducts();
                      }
                    }, 300);
                  } else {
                    filterAndRenderProducts();
                  }
                })
                .catch(e => {
                  console.error('Error:', e);
                  document.getElementById('articulosContainer').innerHTML =
                    `<div class="error">Error al cargar el catálogo: ${e.message}</div>`;
                  document.getElementById('resultCount').textContent = 'Error al cargar productos';
                });
            }
            function hasActiveFilters() {
              return (
                window.activeFilters.categories.length > 0 ||
                window.activeFilters.brands.length > 0 ||
                window.activeFilters.availability.length > 0 ||
                window.activeFilters.priceRange.min !== Math.min(...window.allProducts.map(p =>
                  p.Precio_Web || p.Precio_de_Contado || p.Precio_Lista || 0
                ).filter(p => p > 0)) ||
                window.activeFilters.priceRange.max !== Math.max(...window.allProducts.map(p =>
                  p.Precio_Web || p.Precio_de_Contado || p.Precio_Lista || 0
                ).filter(p => p > 0)) ||
                window.activeFilters.sortOption !== 'precio-asc' ||
                document.getElementById('searchInput').value !== ''
              );
            }
          </script>
      </div>
      <div class="catalog---sidebar sidebar w-embed w-script">
        <div id="cart-container">
          <!--  Botón flotante del carrito  -->
          <div class="cart-toggle" id="cartToggle">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cartCount">0</span>
          </div>
          <!--  Contenido del carrito  -->
          <div class="cart-sidebar" id="cartSidebar">
            <div class="cart-header">
              <h3 class="cart-title">Tu Cotización</h3>
              <button class="close-cart" id="closeCart">&times;</button>
            </div>
            <div class="cart-body" id="cartItems">
              <div class="empty-cart">Tu carrito está vacío</div>
            </div>
            <div class="cart-summary-container">
              <div class="cart-summary">
                <div class="cart-subtotal">
                  <span>Subtotal:</span>
                  <span id="cartSubtotal">Lps. 0.00</span>
                </div>
                <div class="cart-isv">
                  <span>ISV (<span id="isvPercentage">15</span>%):</span>
                  <span id="cartISV">Lps. 0.00</span>
                </div>
                <div class="cart-total">
                  <span>Total:</span>
                  <span id="cartTotal">Lps. 0.00</span>
                </div>
              </div>
              <button class="quote-btn" id="quoteBtn">
                <i class="fas fa-file-alt"></i> Cotizar
              </button>
            </div>
            <div class="customer-form-container" id="customerFormContainer">
              <div class="customer-info">
                <h4><i class="fas fa-user-circle"></i> Información de Contacto</h4>
                <div class="form-group">
                  <label for="customerName"><i class="fas fa-user"></i> Nombre Completo *</label>
                  <input type="text" id="customerName" required="" placeholder="Ingrese su nombre completo">
                </div>
                <div class="form-group">
                  <label for="customerEmail"><i class="fas fa-envelope"></i> Correo Electrónico *</label>
                  <input type="email" id="customerEmail" required="" placeholder="Ingrese su correo electrónico">
                </div>
                <div class="form-group">
                  <label for="customerPhone"><i class="fas fa-phone"></i> Teléfono *</label>
                  <input type="tel" id="customerPhone" required="" placeholder="Ingrese su número de teléfono">
                </div>
                <div class="form-group">
                  <label for="customerNotes"><i class="fas fa-edit"></i> Notas Adicionales</label>
                  <input type="text" id="customerNotes" placeholder="Algún comentario o requerimiento especial">
                </div>
              </div>
              <button class="checkout-btn" id="checkoutBtn" disabled="">
                <i class="fas fa-paper-plane"></i> Enviar Cotización
              </button>
            </div>
          </div>
          <div class="mobile-filters-btn" id="mobileFiltersBtn">
            <i class="fas fa-filter"></i> Filtros
          </div>
        </div>
        <style>
            :root {
              --primary-color: #3498db;
              --secondary-color: #c4c826;
              --dark-color: #01467f;
              --light-color: #f8f9fa;
              --gray-color: #7f8c8d;
              --border-color: #e1e1e1;
              --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
              --transition: all 0.3s ease;
            }
            .cart-sidebar {
              position: fixed;
              top: 0;
              right: -400px;
              width: 400px;
              height: 100vh;
              background: white;
              box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
              z-index: 1001;
              transition: var(--transition);
              display: flex;
              flex-direction: column;
              overflow: hidden;
            }
            .cart-sidebar.open {
              right: 0;
            }
            .cart-header {
              padding: 20px;
              background: var(--dark-color);
              color: white;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            .cart-title {
              font-size: 18px;
              font-weight: bold;
              margin: 0;
            }
            .close-cart {
              background: none;
              border: none;
              color: white;
              font-size: 24px;
              cursor: pointer;
              padding: 0;
            }
            .cart-body {
              flex: 1;
              overflow-y: auto;
              -webkit-overflow-scrolling: touch;
              padding: 20px;
            }
            .cart-item {
              display: flex;
              margin-bottom: 15px;
              padding-bottom: 15px;
              border-bottom: 1px solid var(--border-color);
              transition: all 0.3s ease;
              overflow: hidden;
            }
            .cart-item.removing {
              opacity: 0;
              transform: translateX(100%);
              height: 0 !important;
              margin: 0 !important;
              padding: 0 !important;
              border: none !important;
            }
            @keyframes slideOut {
              from {
                opacity: 1;
                transform: translateX(0);
              }
              to {
                opacity: 0;
                transform: translateX(100%);
              }
            }
            .cart-item-image {
              width: 80px;
              height: 80px;
              object-fit: contain;
              background: var(--light-color);
              border-radius: 8px;
              padding: 5px;
            }
            .cart-item-details {
              flex: 1;
            }
            .cart-item-name {
              font-size: 14px;
              font-weight: bold;
              margin: 0 0 5px 0;
              color: var(--dark-color);
              display: inline-flex;
              align-items: center;
              flex-wrap: wrap;
              gap: 8px;
            }
            .tax-exempt-badge {
              display: inline-flex !important;
              align-items: center;
              gap: 4px;
              background-color: #27ae60;
              color: white;
              font-size: 12px;
              padding: 2px 8px;
              border-radius: 10px;
              margin-left: 8px;
              font-weight: bold;
              text-transform: uppercase;
              animation: fadeIn 0.3s ease;
            }
            .cart-isv-detail {
              font-size: 13px;
              color: #7f8c8d;
              margin-top: -5px;
              margin-bottom: 5px;
            }
            @keyframes fadeIn {
              from {
                opacity: 0;
                transform: translateY(2px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
            .cart-item-image-container {
              width: 80px;
              height: 80px;
              display: flex;
              align-items: center;
              justify-content: center;
              margin-right: 15px;
              background: #f8f9fa;
              border-radius: 8px;
              padding: 5px;
            }
            .cart-item-image-container .img-placeholder {
              cursor: pointer;
              color: #ccc;
            }
            .cart-item-image {
              max-width: 100%;
              max-height: 100%;
              object-fit: contain;
            }
            .cart-item-code {
              font-size: 12px;
              color: var(--gray-color);
              margin: 0 0 5px 0;
            }
            .cart-item-price {
              font-size: 14px;
              font-weight: bold;
              color: var(--secondary-color);
              margin: 0 0 10px 0;
            }
            .cart-item-quantity {
              display: flex;
              align-items: center;
              margin-bottom: 5px;
            }
            .cart-item-total {
              font-size: 18px;
              font-weight: bold;
              color: var(--dark-color);
              margin: 5px 0;
              text-align: left;
              padding-left: 0;
            }
            .quantity-btn {
              width: 30px;
              height: 30px;
              background: var(--light-color);
              border: 1px solid var(--border-color);
              border-radius: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              font-size: 16px;
              padding: 0;
              transition: var(--transition);
            }
            .quantity-btn:hover {
              background: var(--primary-color);
              color: white;
              border-color: var(--primary-color);
            }
            .quantity-input {
              width: 50px;
              height: 30px;
              font-size: 14px;
              text-align: center;
              margin: 0 5px;
              border: 1px solid var(--border-color);
              border-radius: 6px;
              font-weight: 600;
              -moz-appearance: textfield;
            }
            .quantity-input::-webkit-outer-spin-button,
            .quantity-input::-webkit-inner-spin-button {
              -webkit-appearance: none;
              margin: 0;
            }
            .remove-item {
              background: none;
              border: none;
              color: #e74c3c;
              font-size: 12px;
              cursor: pointer;
              padding: 0;
              margin-top: 5px;
              display: flex;
              align-items: center;
              gap: 5px;
              transition: var(--transition);
            }
            .remove-item:hover {
              color: #c0392b;
              transform: scale(1.05);
            }
            .cart-summary-container {
              padding: 20px;
              border-top: 1px solid var(--border-color);
              background: white;
            }
            .cart-summary {
              margin-bottom: 15px;
            }
            .cart-isv {
              display: flex;
              justify-content: space-between;
              font-size: 15px;
              margin-bottom: 5px;
              color: var(--gray-color);
            }
            .cart-subtotal {
              display: flex;
              justify-content: space-between;
              font-size: 16px;
              margin-bottom: 5px;
            }
            .cart-total {
              display: flex;
              justify-content: space-between;
              font-size: 18px;
              font-weight: bold;
              color: var(--secondary-color);
              border-top: 1px solid var(--border-color);
              padding-top: 10px;
              margin-top: 10px;
            }
            .quote-btn {
              width: 100%;
              padding: 12px;
              background: var(--dark-color);
              color: white;
              border: none;
              border-radius: 8px;
              font-size: 16px;
              font-weight: bold;
              cursor: pointer;
              transition: var(--transition);
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 8px;
            }
            .quote-btn:disabled {
              background: #ccc;
              cursor: not-allowed;
              opacity: 0.7;
            }
            .quote-btn:hover:not(:disabled) {
              background: var(--primary-color);
              transform: translateY(-2px);
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }
            .customer-form-container {
              display: none;
              padding: 20px;
              background: #f8f9fa;
              border-top: 1px solid var(--border-color);
            }
            .customer-info {
              margin-bottom: 20px;
            }
            .customer-info h4 {
              margin: 0 0 15px 0;
              font-size: 16px;
              color: var(--dark-color);
            }
            .form-group {
              margin-bottom: 15px;
            }
            .form-group label {
              display: block;
              margin-bottom: 5px;
              font-size: 14px;
              color: var(--dark-color);
            }
            .form-group input {
              width: 100%;
              padding: 10px;
              border: 1px solid var(--border-color);
              border-radius: 6px;
              font-size: 14px;
              transition: var(--transition);
            }
            .form-group input:focus {
              outline: none;
              border-color: var(--primary-color);
              box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            }
            .checkout-btn {
              width: 100%;
              padding: 12px;
              background: var(--secondary-color);
              color: white;
              border: none;
              border-radius: 8px;
              font-size: 16px;
              font-weight: bold;
              cursor: pointer;
              transition: var(--transition);
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 8px;
            }
            .checkout-btn:disabled {
              background: #ccc;
              cursor: not-allowed;
              opacity: 0.7;
            }
            .checkout-btn:hover:not(:disabled) {
              background: #a8cb17;
              transform: translateY(-2px);
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }
            .empty-cart {
              text-align: center;
              padding: 40px 20px;
              color: var(--gray-color);
              font-style: italic;
            }
            .cart-toggle {
              position: fixed;
              right: 20px;
              top: 50%;
              transform: translateY(-50%);
              background: var(--dark-color);
              color: white;
              width: 60px;
              height: 60px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              box-shadow: var(--shadow);
              z-index: 1000;
              transition: var(--transition);
            }
            .cart-toggle:hover {
              transform: translateY(-50%) scale(1.1);
            }
            .cart-count {
              position: absolute;
              top: -5px;
              right: -5px;
              background: var(--secondary-color);
              color: white;
              width: 24px;
              height: 24px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 12px;
              font-weight: bold;
            }
            .toast-notification {
              position: fixed;
              bottom: 20px;
              left: 50%;
              transform: translateX(-50%) translateY(100px);
              background-color: var(--dark-color);
              color: white;
              padding: 12px 24px;
              border-radius: 8px;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
              z-index: 1100;
              opacity: 0;
              transition: all 0.3s ease;
              display: flex;
              align-items: center;
              gap: 10px;
            }
            .toast-notification.show {
              transform: translateX(-50%) translateY(0);
              opacity: 1;
            }
            .toast-notification.success {
              background-color: #27ae60;
            }
            .toast-notification.error {
              background-color: #e74c3c;
            }
            @media (max-width: 768px) {
              body.cart-open {
                overflow: hidden;
                position: fixed;
                width: 100%;
                height: 100%;
              }
              .cart-sidebar {
                width: 100%;
                right: -100%;
              }
              .cart-sidebar.open {
                right: 0;
              }
              .cart-item {
                flex-direction: column;
              }
              .cart-item-image {
                width: 100%;
                height: auto;
                max-height: 150px;
                margin-right: 0;
                margin-bottom: 10px;
              }
              .quantity-input {
                font-size: 13px;
              }
              .customer-form-container {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                max-height: 70vh;
                overflow-y: auto;
                transform: translateY(100%);
                transition: transform 0.3s ease;
                z-index: 102;
                padding-bottom: env(safe-area-inset-bottom);
              }
              .customer-form-container.show {
                transform: translateY(0);
                display: block;
              }
              .customer-info {
                margin-top: 10px;
              }
              .customer-info h4 {
                font-size: 13px;
                margin-bottom: 8px;
              }
              .form-group {
                margin-bottom: 8px;
              }
              .form-group label {
                font-size: 13px;
                margin-bottom: 3px;
              }
              .form-group input {
                padding: 5px 8px;
                font-size: 14px;
              }
              .checkout-btn,
              .quote-btn {
                padding: 10px;
                font-size: 14px;
              }
              @supports (padding: max(0px)) {
                .cart-body,
                .cart-summary-container {
                  padding-left: max(15px, env(safe-area-inset-left));
                  padding-right: max(15px, env(safe-area-inset-right));
                }
                .cart-summary-container {
                  padding-bottom: max(15px, env(safe-area-inset-bottom));
                }
              }
            }
          </style>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
        <script>
            // Variables globales compartidas
            if (!window.cart) {
              try {
                window.cart = JSON.parse(sessionStorage.getItem('cart')) || [];
                window.cart = window.cart.map(item => {
                  return {
                    ...item,
                    quantity: Number(item.quantity) || 1,
                    price: Number(item.price) || 0,
                    tasaImpuesto: Number(item.tasaImpuesto) || (item.exento ? 0 : 0.15),
                    impuestoCalculado: item.exento ? 0 : (Number(item.impuestoCalculado) || 0)
                  };
                });
              } catch (e) {
                console.error("Error al cargar el carrito:", e);
                window.cart = [];
              }
            }
            function validarImpuesto(producto) {
              if (!producto) return {
                aplicaImpuesto: false,
                tasaImpuesto: 0,
                exento: true
              };
              const codigoStr = String(producto.codigo_Impuesto || '').trim();
              const aplicaImpuesto = codigoStr === '1';
              const tasaImpuesto = aplicaImpuesto ? (parseFloat(producto.Impuesto) / 100 || 0.15) : 0;
              return {
                aplicaImpuesto: aplicaImpuesto,
                tasaImpuesto: tasaImpuesto,
                exento: !aplicaImpuesto
              };
            }
            if (!window.formatPrice) {
              window.formatPrice = function(price) {
                if (!price && price !== 0) return 'Consultar precio';
                const safePrice = isNaN(price) || !isFinite(price) ? 0 : Number(price);
                return 'Lps. ' + safePrice.toLocaleString('es-HN', {
                  minimumFractionDigits: 2,
                  maximumFractionDigits: 2
                });
              };
            }
            if (!window.showToast) {
              window.showToast = function(message, type = 'success') {
                const toast = document.createElement('div');
                toast.className = `toast-notification ${type}`;
                toast.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i> ${message}`;
                document.body.appendChild(toast);
                setTimeout(() => toast.classList.add('show'), 10);
                setTimeout(() => {
                  toast.classList.remove('show');
                  setTimeout(() => toast.remove(), 300);
                }, 3000);
              };
            }
            function loadCartItemImage(productId, container) {
              if (!productId || !container) return;
              if (window.productImagesCache && window.productImagesCache[productId]) {
                container.innerHTML = `<img src="${window.productImagesCache[productId]}" alt="Producto" class="cart-item-image" loading="lazy">`;
                return;
              }
              container.innerHTML = '<div class="img-loader"><i class="fas fa-spinner fa-spin"></i></div>';
              if (!window.apiBaseUrl) {
                console.error("apiBaseUrl no definido");
                container.innerHTML = '<i class="fas fa-box-open fa-2x" style="color:#ccc;"></i>';
                return;
              }
              fetch(`${window.apiBaseUrl}/articulos/?id=${productId}/image?t=${Date.now()}`)
                .then(response => {
                  if (!response.ok) throw new Error('Imagen no encontrada');
                  return response.text();
                })
                .then(base64Image => {
                  const imageData = `data:image/jpeg;base64,${base64Image}`;
                  if (!window.productImagesCache) window.productImagesCache = {};
                  window.productImagesCache[productId] = imageData;
                  const item = window.cart.find(item => item.id === productId);
                  if (item) {
                    item.image = imageData;
                    try {
                      sessionStorage.setItem('cart', JSON.stringify(window.cart));
                    } catch (e) {
                      console.error("Error guardando en sessionStorage:", e);
                    }
                  }
                  container.innerHTML = `<img src="${imageData}" alt="Producto" class="cart-item-image" loading="lazy">`;
                })
                .catch(error => {
                  console.error(`Error cargando imagen ${productId}:`, error);
                  container.innerHTML = '<i class="fas fa-box-open fa-2x" style="color:#ccc;"></i>';
                });
            }
            function calculateCartTotals() {
              let subtotal = 0;
              let isv = 0;
              let isvPercentage = 0;
              let maxTaxRate = 0;
              window.cart.forEach(item => {
                const itemSubtotal = item.price * item.quantity;
                subtotal += itemSubtotal;
                if (!item.exento && item.tasaImpuesto > 0) {
                  const itemTax = item.impuestoCalculado || (itemSubtotal * item.tasaImpuesto);
                  isv += itemTax;
                  maxTaxRate = Math.max(maxTaxRate, item.tasaImpuesto);
                }
              });
              if (subtotal > 0 && isv > 0) {
                isvPercentage = Math.round((isv / subtotal) * 100);
              } else {
                isvPercentage = Math.round(maxTaxRate * 100);
              }
              if (isvPercentage <= 0) {
                isvPercentage = 15;
              }
              return {
                subtotal: subtotal,
                isv: isv,
                total: subtotal + isv,
                isvPercentage: isvPercentage
              };
            }
            function checkEmptyCart() {
              const cartItemsEl = document.getElementById('cartItems');
              if (window.cart.length === 0 && !cartItemsEl.querySelector('.empty-cart')) {
                cartItemsEl.innerHTML = '<div class="empty-cart">Tu carrito está vacío</div>';
                document.getElementById('quoteBtn').disabled = true;
              }
            }
            function updateCartCounters() {
              const totalItems = window.cart.reduce((sum, item) => sum + (item.quantity || 0), 0);
              document.getElementById('cartCount').textContent = totalItems;
            }
            function updateCartTotalsUI() {
              const totals = calculateCartTotals();
              document.getElementById('cartSubtotal').textContent = window.formatPrice(totals.subtotal);
              document.getElementById('cartISV').textContent = window.formatPrice(totals.isv);
              document.getElementById('isvPercentage').textContent = totals.isvPercentage;
              document.getElementById('cartTotal').textContent = window.formatPrice(totals.total);
              document.getElementById('quoteBtn').disabled = window.cart.length === 0;
            }
            function removeItemById(productId) {
              if (!productId || !window.cart.some(item => item.id === productId)) {
                console.error("Producto no encontrado en el carrito");
                return;
              }
              const itemElement = document.querySelector(`.cart-item[data-id="${productId}"]`);
              if (itemElement) {
                itemElement.classList.add('removing');
                setTimeout(() => {
                  if (itemElement.parentNode) {
                    itemElement.parentNode.removeChild(itemElement);
                  }
                  window.cart = window.cart.filter(item => item.id !== productId);
                  try {
                    sessionStorage.setItem('cart', JSON.stringify(window.cart));
                  } catch (e) {
                    console.error("Error al guardar el carrito en sessionStorage:", e);
                    try {
                      localStorage.setItem('cart', JSON.stringify(window.cart));
                    } catch (e) {
                      console.error("Error al guardar el carrito en localStorage:", e);
                    }
                  }
                  checkEmptyCart();
                  updateCartCounters();
                  updateCartTotalsUI();
                  checkFormCompletion();
                  window.showToast('Producto eliminado del carrito', 'error');
                }, 300);
              } else {
                window.cart = window.cart.filter(item => item.id !== productId);
                try {
                  sessionStorage.setItem('cart', JSON.stringify(window.cart));
                } catch (e) {
                  console.error("Error al guardar el carrito en sessionStorage:", e);
                  try {
                    localStorage.setItem('cart', JSON.stringify(window.cart));
                  } catch (e) {
                    console.error("Error al guardar el carrito en localStorage:", e);
                  }
                }
                updateCartUI();
                window.showToast('Producto eliminado del carrito', 'error');
              }
            }
            window.updateCartUI = function() {
              if (!window.cart) window.cart = [];
              updateCartCounters();
              const cartItemsEl = document.getElementById('cartItems');
              const emptyCartEl = cartItemsEl.querySelector('.empty-cart');
              if (window.cart.length === 0) {
                if (!emptyCartEl) {
                  cartItemsEl.innerHTML = '<div class="empty-cart">Tu carrito está vacío</div>';
                }
                updateCartTotalsUI();
                return;
              }
              if (emptyCartEl) {
                emptyCartEl.remove();
              }
              const fragment = document.createDocumentFragment();
              window.cart.forEach((item) => {
                let itemEl = document.querySelector(`.cart-item[data-id="${item.id}"]`);
                if (!itemEl) {
                  itemEl = document.createElement('div');
                  itemEl.className = 'cart-item';
                  itemEl.dataset.id = item.id;
                  let imageContent = '';
                  if (item.image) {
                    imageContent = `<img src="${item.image}" alt="${item.name}" class="cart-item-image" loading="lazy">`;
                  } else if (item.hasImage) {
                    imageContent = `
                    <div class="cart-item-image img-placeholder" data-id="${item.id}" data-has-image="1" 
                        style="display: flex; align-items: center; justify-content: center; cursor: pointer;"
                        onclick="loadCartItemImage('${item.id}', this)">
                        <i class="fas fa-box-open fa-2x" style="color:#ccc;"></i>
                    </div>`;
                  } else {
                    imageContent = `
                    <div class="cart-item-image" style="display: flex; align-items: center; justify-content: center; color: #ccc;">
                        <i class="fas fa-box-open fa-2x"></i>
                    </div>`;
                  }
                  const taxBadge = item.exento ?
                    `<div style="margin: 3px 0;">
                        <span style="color: #27ae60; font-size: 12px; display: inline-flex; align-items: center; gap: 3px;">
                            <i class="fas fa-check-circle"></i> Exento
                        </span>
                    </div>` :
                    `<div style="margin: 3px 0;">
                        <span style="color: #7f8c8d; font-size: 12px; display: inline-flex; align-items: center; gap: 3px;">
                            <i class="fas fa-info-circle"></i> ISV ${(item.tasaImpuesto * 100)}%
                        </span>
                    </div>`;
                  itemEl.innerHTML = `
                    <div class="cart-item-image-container">
                        ${imageContent}
                    </div>
                    <div class="cart-item-details">
                        <h4 class="cart-item-name">${item.description || 'Producto sin nombre'}</h4>
                        ${taxBadge}
                        <p class="cart-item-code">Código: ${item.id || 'N/A'}</p>
                        <p class="cart-item-price">${window.formatPrice(item.price)} c/u</p>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn minus" type="button">-</button>
                            <input type="number" min="${item.minQuantity || 1}" step="${item.minQuantity || 1}" 
                                value="${item.quantity}" class="quantity-input">
                            <button class="quantity-btn plus" type="button">+</button>
                        </div>
                        <p class="cart-item-total">
                            Total: ${window.formatPrice(item.price * item.quantity * (1 + (item.exento ? 0 : item.tasaImpuesto)))}
                        </p>
                        <button class="remove-item" type="button">
                            <i class="fas fa-trash-alt"></i> Eliminar
                        </button>
                    </div>
                `;
                  const index = window.cart.findIndex(cartItem => cartItem.id === item.id);
                  itemEl.querySelector('.minus').addEventListener('click', () => updateQuantity(index, -1));
                  itemEl.querySelector('.plus').addEventListener('click', () => updateQuantity(index, 1));
                  itemEl.querySelector('.quantity-input').addEventListener('change', (e) => updateQuantityInput(index, e));
                  itemEl.querySelector('.remove-item').addEventListener('click', () => removeItemById(item.id));
                  fragment.appendChild(itemEl);
                } else {
                  const quantityInput = itemEl.querySelector('.quantity-input');
                  if (quantityInput) quantityInput.value = item.quantity;
                  const itemTotal = itemEl.querySelector('.cart-item-total');
                  if (itemTotal) {
                    itemTotal.textContent = `Total: ${window.formatPrice(
                        item.price * item.quantity * (1 + (item.exento ? 0 : item.tasaImpuesto)
                    ))}`;
                  }
                  const taxBadge = itemEl.querySelector('.tax-exempt-badge, .cart-isv-detail');
                  if (taxBadge) {
                    taxBadge.replaceWith(item.exento ?
                      `<span class="tax-exempt-badge">
                            <i class="fas fa-check-circle"></i> Exento
                        </span>` :
                      `<div class="cart-isv-detail">
                            <i class="fas fa-info-circle"></i> ISV ${(item.tasaImpuesto * 100)}%
                        </div>`
                    );
                  }
                }
              });
              cartItemsEl.appendChild(fragment);
              updateCartTotalsUI();
              checkFormCompletion();
            };
            window.addToCart = async function(productData) {
              if (!productData || !productData.id) {
                console.error("Datos de producto inválidos");
                return;
              }
              try {
                // Obtener detalles completos del producto desde la API
                const productDetails = await getProductDetails(productData.id);
                if (!productDetails) {
                  window.showToast('No se pudieron obtener los detalles del producto', 'error');
                  return;
                }
                const impuestoInfo = validarImpuesto(productDetails);
                console.log("Debug - Validación de impuesto:", {
                  id: productData.id,
                  codigo_Impuesto: productDetails.codigo_Impuesto,
                  Impuesto: productDetails.Impuesto,
                  resultado: impuestoInfo
                });
                const existingItem = window.cart.find(item => item.id === productData.id);
                const quantity = productData.quantity || 1;
                const price = productDetails.Precio_Web || productDetails.Precio_de_Contado || productDetails.Precio_Lista || 0;
                if (existingItem) {
                  existingItem.quantity += quantity;
                  if (!existingItem.exento) {
                    existingItem.impuestoCalculado = existingItem.price * existingItem.quantity * existingItem.tasaImpuesto;
                  }
                } else {
                  window.cart.push({
                    id: productData.id,
                    name: productDetails.Nombre_Grupo || productDetails.Nombre_Categoria || 'Producto',
                    description: productDetails.Descripcion_Corta || 'Descripción no disponible',
                    price: price,
                    quantity: quantity,
                    minQuantity: productDetails.Unidad_Minima_Venta || 1,
                    unit: productDetails.Unidad_Medida || 'unidad',
                    image: productData.image,
                    hasImage: productData.hasImage,
                    codigo_Impuesto: productDetails.codigo_Impuesto,
                    Impuesto: productDetails.Impuesto,
                    exento: impuestoInfo.exento,
                    tasaImpuesto: impuestoInfo.tasaImpuesto,
                    impuestoCalculado: impuestoInfo.exento ? 0 : (price * quantity * impuestoInfo.tasaImpuesto)
                  });
                }
                try {
                  sessionStorage.setItem('cart', JSON.stringify(window.cart));
                } catch (e) {
                  console.error("Error guardando en sessionStorage:", e);
                }
                window.updateCartUI();
                window.showToast('Producto agregado al carrito', 'success');
              } catch (error) {
                console.error('Error al agregar al carrito:', error);
                window.showToast('Error al agregar al carrito', 'error');
              }
            };
            if (!window.cart) {
              try {
                window.cart = JSON.parse(sessionStorage.getItem('cart')) || [];
                window.cart = window.cart.map(item => {
                  const impuestoInfo = validarImpuesto(item);
                  return {
                    id: item.id,
                    name: item.name,
                    description: item.description,
                    price: Number(item.price) || 0,
                    quantity: Number(item.quantity) || 1,
                    minQuantity: Number(item.minQuantity) || 1,
                    unit: item.unit,
                    image: item.image,
                    hasImage: item.hasImage,
                    codigo_Impuesto: item.codigo_Impuesto || '1',
                    Impuesto: item.Impuesto || 0.15,
                    exento: impuestoInfo.exento,
                    tasaImpuesto: impuestoInfo.tasaImpuesto,
                    impuestoCalculado: impuestoInfo.exento ? 0 : ((Number(item.price) || 0) * (Number(item.quantity) || 1) * impuestoInfo.tasaImpuesto)
                  };
                });
              } catch (e) {
                console.error("Error al cargar el carrito:", e);
                window.cart = [];
              }
            }
            function updateQuantity(index, change) {
              if (index < 0 || index >= window.cart.length) return;
              const item = window.cart[index];
              const newQuantity = item.quantity + (change * (item.minQuantity || 1));
              if (newQuantity >= (item.minQuantity || 1)) {
                item.quantity = newQuantity;
                if (!item.exento) {
                  item.impuestoCalculado = item.price * item.quantity * item.tasaImpuesto;
                }
                try {
                  sessionStorage.setItem('cart', JSON.stringify(window.cart));
                } catch (e) {
                  console.error("Error guardando en sessionStorage:", e);
                }
                window.updateCartUI();
              } else {
                window.showToast('No puedes pedir menos de la cantidad mínima', 'error');
              }
            }
            function updateQuantityInput(index, event) {
              if (index < 0 || index >= window.cart.length) return;
              const item = window.cart[index];
              const newQuantity = parseInt(event.target.value);
              const minQuantity = item.minQuantity || 1;
              if (!isNaN(newQuantity)) {
                if (newQuantity >= minQuantity) {
                  if (newQuantity % minQuantity === 0) {
                    item.quantity = newQuantity;
                    if (!item.exento) {
                      item.impuestoCalculado = item.price * item.quantity * item.tasaImpuesto;
                    }
                    try {
                      sessionStorage.setItem('cart', JSON.stringify(window.cart));
                    } catch (e) {
                      console.error("Error guardando en sessionStorage:", e);
                    }
                    window.updateCartUI();
                  } else {
                    const adjustedQuantity = Math.ceil(newQuantity / minQuantity) * minQuantity;
                    item.quantity = adjustedQuantity;
                    event.target.value = adjustedQuantity;
                    if (!item.exento) {
                      item.impuestoCalculado = item.price * item.quantity * item.tasaImpuesto;
                    }
                    window.showToast(`Debe pedir en múltiplos de ${minQuantity}. Se ajustó a ${adjustedQuantity}`, 'error');
                    try {
                      sessionStorage.setItem('cart', JSON.stringify(window.cart));
                    } catch (e) {
                      console.error("Error guardando en sessionStorage:", e);
                    }
                    window.updateCartUI();
                  }
                } else {
                  event.target.value = item.quantity;
                  window.showToast(`La cantidad mínima es ${minQuantity}`, 'error');
                }
              } else {
                event.target.value = item.quantity;
              }
            }
            function checkFormCompletion() {
              const name = document.getElementById('customerName')?.value.trim();
              const email = document.getElementById('customerEmail')?.value.trim();
              const phone = document.getElementById('customerPhone')?.value.trim();
              const checkoutBtn = document.getElementById('checkoutBtn');
              if (!checkoutBtn) return;
              checkoutBtn.disabled = !(name && email && phone && window.cart.length > 0);
            }
            function isValidEmail(email) {
              const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
              return re.test(email);
            }
            function sendQuotation() {
              const name = document.getElementById('customerName')?.value.trim();
              const email = document.getElementById('customerEmail')?.value.trim();
              const phone = document.getElementById('customerPhone')?.value.trim();
              const notes = document.getElementById('customerNotes')?.value.trim();
              if (!name || !email || !phone) {
                window.showToast('Complete todos los campos requeridos', 'error');
                return;
              }
              if (!isValidEmail(email)) {
                window.showToast('Ingrese un correo electrónico válido', 'error');
                return;
              }
              if (window.cart.length === 0) {
                window.showToast('No hay productos en el carrito', 'error');
                return;
              }
              let message = `*Hola, soy/somos ${name},*`;
              message += `\n*Solicitud de Cotización*\n\n`;
              message += `*Productos solicitados:*\n`;
              window.cart.forEach(item => {
                const totalPrice = item.price * item.quantity;
                const taxAmount = item.impuestoCalculado || (item.exento ? 0 : totalPrice * item.tasaImpuesto);
                message += `- *${item.description || 'Producto sin nombre'}* ${item.exento ? '(Exento)' : ''}\n`;
                message += `  Código: ${item.id || 'N/A'}\n`;
                message += `  Cantidad: ${item.quantity} ${item.unit || 'unidad'}\n`;
                message += `  Precio unitario: ${window.formatPrice(item.price)}\n`;
                if (!item.exento) {
                  message += `  ISV (${Math.round(item.tasaImpuesto * 100)}%): ${window.formatPrice(taxAmount)}\n`;
                }
                message += `  Total: ${window.formatPrice(totalPrice + taxAmount)}\n\n`;
              });
              const {
                subtotal,
                isv,
                total
              } = calculateCartTotals();
              message += `*Detalle de precios:*\n`;
              message += `- Subtotal: ${window.formatPrice(subtotal)}\n`;
              if (isv > 0) {
                message += `- ISV: ${window.formatPrice(isv)}\n`;
              }
              message += `- *Total:* ${window.formatPrice(total)}\n\n`;
              message += `*Información de contacto:*\n`;
              message += `- Nombre: ${name}\n`;
              message += `- Correo: ${email}\n`;
              message += `- Teléfono: ${phone}\n\n`;
              if (notes) {
                message += `*Notas adicionales:*\n${notes}\n\n`;
              }
              message += `Gracias por su atención.`;
              const encodedMessage = encodeURIComponent(message);
              const whatsappUrl = `https://wa.me/50499911764?text=${encodedMessage}`;
              window.open(whatsappUrl, '_blank');
              window.cart = [];
              try {
                sessionStorage.setItem('cart', JSON.stringify(window.cart));
              } catch (e) {
                console.error("Error guardando en sessionStorage:", e);
              }
              window.updateCartUI();
              document.getElementById('customerName').value = '';
              document.getElementById('customerEmail').value = '';
              document.getElementById('customerPhone').value = '';
              document.getElementById('customerNotes').value = '';
              if (window.innerWidth <= 768) {
                toggleForm(false);
              }
              window.showToast('Redirigiendo a WhatsApp...', 'success');
            }
            function toggleForm(show) {
              const formContainer = document.getElementById('customerFormContainer');
              const quoteBtn = document.getElementById('quoteBtn');
              if (!formContainer || !quoteBtn) return;
              if (show) {
                if (window.innerWidth <= 768) {
                  formContainer.classList.add('show');
                } else {
                  formContainer.style.display = 'block';
                  quoteBtn.style.display = 'none';
                }
              } else {
                if (window.innerWidth <= 768) {
                  formContainer.classList.remove('show');
                } else {
                  formContainer.style.display = 'none';
                  quoteBtn.style.display = 'flex';
                }
              }
            }
            function handleCartToggle() {
              const sidebar = document.getElementById('cartSidebar');
              if (!sidebar) return;
              const isOpening = !sidebar.classList.contains('open');
              sidebar.classList.toggle('open');
              if (!isOpening) {
                toggleForm(false);
              }
              if (window.innerWidth <= 768) {
                if (isOpening) {
                  document.body.style.overflow = 'hidden';
                } else {
                  document.body.style.overflow = '';
                }
              }
            }
            document.addEventListener('DOMContentLoaded', function() {
              function initMobileFilters() {
                const mobileFiltersBtn = document.getElementById('mobileFiltersBtn');
                const filtersSidebar = document.querySelector('.filters-sidebar');
                if (!mobileFiltersBtn || !filtersSidebar) return;
                const closeFiltersBtn = document.createElement('div');
                closeFiltersBtn.className = 'close-filters-mobile';
                closeFiltersBtn.innerHTML = '&times;';
                filtersSidebar.insertBefore(closeFiltersBtn, filtersSidebar.firstChild);
                function toggleFilters() {
                  const isOpening = !filtersSidebar.classList.contains('show');
                  filtersSidebar.classList.toggle('show');
                  document.body.style.overflow = isOpening ? 'hidden' : 'auto';
                }
                mobileFiltersBtn.addEventListener('click', toggleFilters);
                closeFiltersBtn.addEventListener('click', toggleFilters);
                document.addEventListener('click', (e) => {
                  if (filtersSidebar.classList.contains('show') &&
                    e.target !== mobileFiltersBtn &&
                    !filtersSidebar.contains(e.target)) {
                    toggleFilters();
                  }
                });
                filtersSidebar.addEventListener('click', (e) => {
                  e.stopPropagation();
                });
              }
              if (window.innerWidth <= 992) {
                initMobileFilters();
              }
              window.addEventListener('resize', function() {
                const filtersSidebar = document.querySelector('.filters-sidebar');
                if (!filtersSidebar) return;
                if (window.innerWidth <= 992) {
                  if (!document.querySelector('.close-filters-mobile')) {
                    initMobileFilters();
                  }
                } else {
                  filtersSidebar.classList.remove('show');
                  filtersSidebar.style.left = '';
                  filtersSidebar.style.width = '';
                  filtersSidebar.style.position = '';
                  document.body.style.overflow = '';
                }
              });
            });
            document.addEventListener('DOMContentLoaded', function() {
              try {
                if (!window.cart) window.cart = JSON.parse(sessionStorage.getItem('cart')) || [];
                window.updateCartUI();
                const cartToggle = document.getElementById('cartToggle');
                const closeCart = document.getElementById('closeCart');
                const quoteBtn = document.getElementById('quoteBtn');
                const checkoutBtn = document.getElementById('checkoutBtn');
                if (cartToggle) cartToggle.addEventListener('click', handleCartToggle);
                if (closeCart) closeCart.addEventListener('click', handleCartToggle);
                document.addEventListener('click', (e) => {
                  const cartSidebar = document.getElementById('cartSidebar');
                  const cartToggle = document.getElementById('cartToggle');
                  if (cartSidebar && cartSidebar.classList.contains('open') &&
                    !cartSidebar.contains(e.target) &&
                    e.target !== cartToggle &&
                    !cartToggle.contains(e.target)) {
                    handleCartToggle();
                  }
                });
                if (quoteBtn) quoteBtn.addEventListener('click', function() {
                  toggleForm(true);
                });
                ['customerName', 'customerEmail', 'customerPhone'].forEach(id => {
                  const element = document.getElementById(id);
                  if (element) {
                    element.addEventListener('input', checkFormCompletion);
                  }
                });
                if (checkoutBtn) checkoutBtn.addEventListener('click', sendQuotation);
                const initialTotals = calculateCartTotals();
                document.getElementById('isvPercentage').textContent = initialTotals.isvPercentage;
              } catch (e) {
                console.error("Error en la inicialización:", e);
              }
            });
          </script>
      </div>
    </div>
  </div>
  <div class="section-footer">
    <div class="container-footer">
      <div class="w-embed w-script">
        <!DOCTYPE html>
        <html>
        <head>
          <style>
                :root {
                  --primary-light: rgba(1, 70, 127, 0.7);
                  --secondary-light: rgba(196, 200, 38, 0.7);
                }
                .dynamic-bg {
                  position: fixed;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  z-index: -1;
                  overflow: hidden;
                  background: linear-gradient(135deg, rgba(1, 70, 127, 0.1), rgba(196, 200, 38, 0.1));
                }
                .particle {
                  position: absolute;
                  border-radius: 50%;
                  opacity: 0;
                  animation: floatParticle 12s infinite linear;
                  filter: blur(1px);
                  box-shadow: 0 0 15px 3px rgba(255, 255, 255, 0.5);
                  z-index: 1;
                }
                @keyframes floatParticle {
                  0% {
                    transform: translate(0, 0) rotate(0deg) scale(0);
                    opacity: 0;
                  }
                  10% {
                    opacity: 0.9;
                    transform: translate(0, 0) rotate(0deg) scale(1);
                  }
                  90% {
                    opacity: 0.9;
                  }
                  100% {
                    transform: translate(var(--random-x), -1000px) rotate(720deg) scale(0);
                    opacity: 0;
                  }
                }
                .shape {
                  position: absolute;
                  opacity: 0.15;
                  animation: floatShape 30s infinite linear;
                  filter: blur(1px);
                  z-index: 1;
                }
                .shape.triangle {
                  width: 0;
                  height: 0;
                  border-left: 40px solid transparent;
                  border-right: 40px solid transparent;
                  border-bottom: 70px solid var(--primary-light);
                }
                .shape.circle {
                  width: 60px;
                  height: 60px;
                  border-radius: 50%;
                  background: var(--secondary-light);
                  box-shadow: 0 0 20px 5px var(--secondary-light);
                }
                .shape.square {
                  width: 60px;
                  height: 60px;
                  background: var(--primary-light);
                  transform: rotate(45deg);
                  box-shadow: 0 0 20px 5px var(--primary-light);
                }
                @keyframes floatShape {
                  0% {
                    transform: translate(0, 0) rotate(0deg);
                    opacity: 0;
                  }
                  10% {
                    opacity: 0.15;
                  }
                  90% {
                    opacity: 0.15;
                  }
                  100% {
                    transform: translate(var(--random-x), -1000px) rotate(720deg);
                    opacity: 0;
                  }
                }
                /* Media query para pantallas pequeñas */
                @media (max-width: 800px) {
                  .dynamic-bg {
                    display: none !important;
                  }
                }
              </style>
        </head>
        <body>
          <div class="dynamic-bg" id="dynamicBg"></div>
          <script>
                document.addEventListener('DOMContentLoaded', function() {
                  // Verificar el ancho de la pantalla antes de crear los elementos
                  if (window.innerWidth > 800) {
                    const dynamicBg = document.getElementById('dynamicBg');
                    const particleCount = 80;
                    const shapeCount = 30;
                    // Crear partículas
                    for (let i = 0; i < particleCount; i++) {
                      const particle = document.createElement('div');
                      particle.classList.add('particle');
                      const size = Math.random() * 12 + 6;
                      particle.style.width = `${size}px`;
                      particle.style.height = `${size}px`;
                      particle.style.left = `${Math.random() * 100}%`;
                      particle.style.top = `${Math.random() * 100 + 100}%`;
                      const colors = ['#01467f', '#c4c826', '#ffffff'];
                      const color = colors[Math.floor(Math.random() * colors.length)];
                      particle.style.background = color;
                      const duration = Math.random() * 8 + 8;
                      particle.style.animationDuration = `${duration}s`;
                      particle.style.animationDelay = `${Math.random() * 5}s`;
                      const randomX = (Math.random() - 0.5) * 300;
                      particle.style.setProperty('--random-x', `${randomX}px`);
                      dynamicBg.appendChild(particle);
                    }
                    // Crear formas geométricas
                    const shapes = ['triangle', 'circle', 'square'];
                    for (let i = 0; i < shapeCount; i++) {
                      const shape = document.createElement('div');
                      const shapeType = shapes[Math.floor(Math.random() * shapes.length)];
                      shape.classList.add('shape', shapeType);
                      const size = Math.random() * 50 + 30;
                      if (shapeType === 'triangle') {
                        shape.style.borderLeftWidth = `${size/2}px`;
                        shape.style.borderRightWidth = `${size/2}px`;
                        shape.style.borderBottomWidth = `${size}px`;
                        shape.style.borderBottomColor = `var(--${Math.random() > 0.5 ? 'primary-light' : 'secondary-light'})`;
                      } else {
                        shape.style.width = `${size}px`;
                        shape.style.height = `${size}px`;
                        shape.style.background = `var(--${Math.random() > 0.5 ? 'primary-light' : 'secondary-light'})`;
                      }
                      shape.style.left = `${Math.random() * 100}%`;
                      shape.style.top = `${Math.random() * 100 + 100}%`;
                      const duration = Math.random() * 20 + 20;
                      shape.style.animationDuration = `${duration}s`;
                      shape.style.animationDelay = `${Math.random() * 10}s`;
                      const randomX = (Math.random() - 0.5) * 400;
                      shape.style.setProperty('--random-x', `${randomX}px`);
                      dynamicBg.appendChild(shape);
                    }
                    // Efecto de movimiento de fondo con mouse (solo en pantallas grandes)
                    document.addEventListener('mousemove', function(e) {
                      const x = e.clientX / window.innerWidth - 0.5;
                      const y = e.clientY / window.innerHeight - 0.5;
                      dynamicBg.style.transform = `translate(${x * 40}px, ${y * 20}px)`;
                    });
                  }
                });
              </script>
        </body>
        </html>
      </div>
    </div>
    <div class="footer w-embed">
      <style>
          /* Importar fuentes */
          @import url('https://fonts.googleapis.com/css2?family=Droid+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap');
          @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');
          /* Estilos base para el footer */
          .footer-structure {
            background-color: #000;
            color: #fff;
            padding: 60px 0 30px;
            font-family: 'Inter', sans-serif;
            position: relative;
            overflow: hidden;
          }
          .footer-structure::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #c4c826, #e5e879);
            z-index: 1;
          }
          .footer-div {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            position: relative;
            z-index: 2;
          }
          .footer-brand {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: nowrap;
          }
          .footer-logo {
            height: auto;
            width: 90px;
            margin-right: 25px;
            transition: transform 0.3s ease;
            flex-shrink: 0;
            padding-right: 10px;
          }
          .footer-logo:hover {
            transform: scale(1.05);
          }
          .footer-company-name {
            font-family: 'Droid Serif', serif;
            font-size: 28px;
            /* Tamaño aumentado a 28px */
            font-weight: 700;
            color: #fff;
            line-height: 1.2;
            position: relative;
            padding-left: 25px;
            white-space: nowrap;
          }
          .footer-company-name::before {
            content: '';
            position: absolute;
            left: 0;
            top: 5px;
            bottom: 5px;
            width: 4px;
            background-color: #c4c826;
            border-radius: 3px;
          }
          .footer-columns {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            margin-bottom: 40px;
            justify-items: center;
            /* Centrado en pantallas grandes */
          }
          .footer-column {
            width: 100%;
            max-width: 200px;
            text-align: left;
            /* Ancho máximo para evitar que se estiren mucho */
          }
          .footer-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #c4c826;
            position: relative;
            padding-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
          }
          .footer-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: #c4c826;
          }
          .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 16px;
            font-weight: 400;
          }
          .footer-links li {
            margin-bottom: 12px;
          }
          .ftr-link {
            color: #b0b0b0;
            text-decoration: none;
            transition: all 0.3s ease;
            display: block;
          }
          .ftr-link:hover {
            color: #fff;
            padding-left: 5px;
          }
          .social-icons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            padding-left: 15px;
            /* Padding izquierdo para móviles */
          }
          .social-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 18px;
            transition: all 0.3s ease;
            text-decoration: none !important;
          }
          .social-icon:hover {
            background-color: #c4c826;
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(196, 200, 38, 0.3);
          }
          .footer-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(196, 200, 38, 0.5), transparent);
            margin: 30px 0;
          }
          .footer-copyright {
            text-align: center;
            color: #777;
            font-size: 0.9rem;
          }
          /* Media Queries específicas para < 480px */
          @media (max-width: 480px) {
            .footer-div {
              padding: 0 25px;
              /* Mayor padding lateral en móviles */
            }
            .footer-brand {
              margin-bottom: 30px;
            }
            .footer-logo {
              width: 70px;
              margin-right: 15px;
            }
            .footer-company-name {
              font-size: 1.4rem;
              /* Tamaño ajustado para móvil */
              padding-left: 15px;
              white-space: normal;
            }
            .footer-columns {
              grid-template-columns: 1fr 1fr;
              gap: 25px;
              justify-items: start;
              /* Alineación izquierda pero con padding */
            }
            .footer-title {
              font-size: 1rem;
              margin-bottom: 15px;
              padding-left: 15px;
              /* Padding adicional para títulos */
            }
            .footer-title::after {
              left: 15px;
              /* Alineación con el texto */
            }
            .footer-links {
              padding-left: 15px;
              /* Padding consistente */
            }
            .ftr-link {
              font-size: 0.9rem;
            }
            .social-icons {
              padding-left: 15px;
              gap: 12px;
            }
          }
          /* Ajustes para pantallas medianas (481px - 768px) */
          @media (min-width: 481px) and (max-width: 768px) {
            .footer-company-name {
              font-size: 1.8rem;
            }
          }
        </style>
      <footer class="footer-structure">
        <div class="footer-div">
          <!--  Logo y nombre de la empresa  -->
          <div class="footer-brand">
            <a href="index.html" class="footer-logo-link">
              <img width="90" alt="Distribuidora Industrial" src="images/DISA_Logo-removebg-preview.png" loading="lazy" class="footer-logo">
            </a>
            <div class="footer-company-name">Distribuidora Industrial S.A. de C.V.</div>
          </div>
          <!--  Columnas de enlaces  -->
          <div class="footer-columns">
            <!--  Columna 1: Inicio  -->
            <div class="footer-column">
              <h3 class="footer-title">Inicio</h3>
              <ul class="footer-links">
                <li>
                  <a href="index.html" class="ftr-link">Home</a>
                </li>
                <li>
                  <a href="marcas.html" class="ftr-link">Nuestras Marcas</a>
                </li>
                <li>
                  <a href="tienda.html" class="ftr-link">Tienda</a>
                </li>
              </ul>
            </div>
            <!--  Columna 2: Recursos  -->
            <div class="footer-column">
              <h3 class="footer-title">Recursos</h3>
              <ul class="footer-links">
                <li>
                  <a href="blog.html" class="ftr-link">Blog</a>
                </li>
                <li>
                  <a href="creditos-y-consultas.html" class="ftr-link">Créditos y Consultas</a>
                </li>
                <li>
                  <a href="politicas-y-devoluciones.html" class="ftr-link">Políticas y Devoluciones</a>
                </li>
              </ul>
            </div>
            <!--  Columna 3: Acerca de  -->
            <div class="footer-column">
              <h3 class="footer-title">Acerca de</h3>
              <ul class="footer-links">
                <li>
                  <a href="nosotros.html" class="ftr-link">Quiénes Somos</a>
                </li>
                <li>
                  <a href="contactanos.html" class="ftr-link">Contáctanos</a>
                </li>
              </ul>
            </div>
            <!--  Columna 4: Redes Sociales  -->
            <div class="footer-column">
              <h3 class="footer-title">Nuestras Redes</h3>
              <div class="social-icons">
                <a href="https://www.instagram.com/distribuidoraindustrialsa/?hl=en" target="_blank" class="social-icon">
                  <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.facebook.com/distribuidoraindustrial.net/?locale=es_LA" target="_blank" class="social-icon">
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.tiktok.com/@distribuidoraindu2" target="_blank" class="social-icon">
                  <i class="fab fa-tiktok"></i>
                </a>
                <a href="https://linktr.ee/disa1971" target="_blank" class="social-icon">
                  <i class="fas fa-link"></i>
                </a>
              </div>
            </div>
          </div>
          <!--  Divider y copyright  -->
          <div class="footer-divider"></div>
          <div class="footer-copyright">
            Copyright © 2024 Distribuidora Industrial. Todos los derechos reservados.
          </div>
        </div>
      </footer>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=680aa07dd92e4aea47e97ee1" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
</body>
</html>